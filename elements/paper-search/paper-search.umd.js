!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("@polymer/polymer/polymer-element.js"),require("@polymer/polymer/lib/legacy/class.js"),require("@polymer/iron-a11y-keys-behavior/iron-a11y-keys-behavior.js")):"function"==typeof define&&define.amd?define(["@polymer/polymer/polymer-element.js","@polymer/polymer/lib/legacy/class.js","@polymer/iron-a11y-keys-behavior/iron-a11y-keys-behavior.js"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).polymerElement_js,e.class_js,e.ironA11yKeysBehavior_js)}(this,(function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p(n.key),n)}}function i(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return s(e)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return c(this,r)}}function p(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var y=function(e){l(r,e);var t=f(r);function r(){var e;return n(this,r),e=t.call(this),setTimeout((function(){e.addEventListener("keypress",e._search.bind(s(e)))}),0),e}return i(r,[{key:"focus",value:function(){this.shadowRoot.querySelector("#input").focus()}},{key:"_filter",value:function(e){this.dispatchEvent(new CustomEvent("paper-search-filter",{bubbles:!0,cancelable:!0,composed:!0,detail:!0}))}},{key:"_clear",value:function(){this.query="",this.shadowRoot.querySelector("#input").focus(),this.dispatchEvent(new CustomEvent("paper-search-clear",{bubbles:!0,cancelable:!0,composed:!0,detail:!0}))}},{key:"_search",value:function(e){if(13==e.keyCode)return this.dispatchEvent(new CustomEvent("paper-search-search",{bubbles:!0,cancelable:!0,composed:!0,detail:!0})),!1}}],[{key:"tag",get:function(){return"paper-search-bar"}},{key:"properties",get:function(){return{query:{type:String,notify:!0,value:""},hideFilterButton:{type:Boolean,value:!1},disableFilterButton:{type:Boolean,value:!1},nrSelectedFilters:{type:Number,value:0},icon:{type:String,value:"search"},placeholder:{type:String,value:"Search"}}}}]),r}(t.mixinBehaviors([r.IronA11yKeysBehavior],e.PolymerElement));customElements.define(y.tag,y);var d=function(e){l(r,e);var t=f(r);function r(){return n(this,r),t.apply(this,arguments)}return i(r,[{key:"open",value:function(){document.body.appendChild(this),setTimeout(function(){this.shadowRoot.querySelector("#dialog").open(),this._selectedFilters=Object.assign({},this.selectedFilters)}.bind(this),1)}},{key:"close",value:function(){this.shadowRoot.querySelector("#dialog").close()}},{key:"_tapSelectFilter",value:function(e){this.shadowRoot.querySelector("#selector").select(e.model.filter),this._preselectFilterValues()}},{key:"_preselectFilterValues",value:function(){var e=this._selectedFilters[this._selectedFilter.id],t=function(t){return Boolean(e)&&e.indexOf(t.id)>=0};this._selectedFilterValues=this._selectedFilter.values.map((function(e){return Object.assign({},e,{selected:t(e)})}))}},{key:"_tapReset",value:function(e){this._selectedFilters={}}},{key:"_tapApply",value:function(e){this.selectedFilters=this._selectedFilters,this.dispatchEvent(new CustomEvent("save",{bubbles:!0,cancelable:!0,composed:!0,detail:!0}))}},{key:"_tapSelectValues",value:function(e){var t,r,n,o=this._selectedFilterValues.filter((function(e){return e.selected})).map((function(e){return e.id}));this._selectedFilters=Object.assign({},this._selectedFilters,(t={},r=this._selectedFilter.id,n=o,(r=p(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t)),this.shadowRoot.querySelector("#selector").deselect(this._selectedFilter)}},{key:"_hasSelectedFilters",value:function(e){for(selectedFilter in e)if(e[selectedFilter].length>0)return!0;return!1}},{key:"_getSelectedValuesNames",value:function(e,t){var r=t[e.id];if(!e.values||!r)return this.noValuesLabel;var n=e.values.filter((function(e){return r.indexOf(e.id)>=0})).map((function(e){return e.name}));return n.length>0?n.join(", "):this.noValuesLabel}}],[{key:"tag",get:function(){return"paper-filter-dialog"}},{key:"properties",get:function(){return{filters:Array,selectedFilters:{type:Object,notify:!0,value:{}},resetButton:{type:String,value:"Reset"},saveButton:{type:String,value:"Save filters"},noValuesLabel:{type:String,value:"No filters yet"},_selectedFilters:{type:Object,value:{}},_selectedFilter:Object,_selectedFilterValues:{type:Array,value:[]}}}}]),r}(e.PolymerElement);customElements.define(d.tag,d);var h=function(e){l(r,e);var t=f(r);function r(){return n(this,r),t.apply(this,arguments)}return i(r,[{key:"getPaperSearchBarInstance",value:function(){return this.shadowRoot.querySelector("#paperSearchBar")}},{key:"_loadMore",value:function(){this.count+=20,this._updateData()}},{key:"_computeHasItems",value:function(e){return void 0!==e&&e.length>0}},{key:"_showNoResults",value:function(e,t){return!e&&!t}},{key:"_onChangeRequest",value:function(e,t){void 0!==t&&(this.count=20,this._updateData())}},{key:"_updateData",value:function(){this.dispatchEvent(new CustomEvent("change-request-params",{bubbles:!0,cancelable:!0,composed:!0,detail:!0}))}},{key:"_onFilter",value:function(){this.shadowRoot.querySelector("#filterDialog").open()}},{key:"_onSearch",value:function(){this.dispatchEvent(new CustomEvent("search",{bubbles:!0,cancelable:!0,composed:!0,detail:!0}))}},{key:"_getNrSelectedFilters",value:function(e){return Object.keys(e).length<=0?0:Object.keys(e).map((function(t){return e[t].length})).reduce((function(e,t){return e+t}))}},{key:"_disableFilterButton",value:function(e){return!(e&&e.length>0)}}],[{key:"tag",get:function(){return"paper-search-panel"}},{key:"properties",get:function(){return{search:{type:String,observer:"_onChangeRequest",notify:!0},filters:Object,selectedFilters:{type:Object,observer:"_onChangeRequest",notify:!0,value:{}},items:Array,hasMore:{type:Boolean,value:!1},loading:{type:Boolean,value:!1},hideFilterButton:{type:Boolean,value:!1},count:{type:Number,notify:!0,value:20},icon:{type:String,value:"search"},placeholder:{type:String,value:"Search"},noResultsText:{type:String,value:"No matching results found."},moreButton:{type:String,value:"More"},resetButton:String,saveButton:String,noValuesLabel:String,_hasItems:{type:Boolean,computed:"_computeHasItems(items)",value:!1}}}}]),r}(e.PolymerElement);customElements.define(h.tag,h)}));
