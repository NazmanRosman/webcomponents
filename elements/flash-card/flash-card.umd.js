!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@lrnwebcomponents/multiple-choice/lib/confetti-container.js"),require("lit"),require("@lrnwebcomponents/simple-colors/simple-colors.js"),require("@lrnwebcomponents/i18n-manager/lib/I18NMixin.js"),require("@lrnwebcomponents/simple-icon/lib/simple-icons.js"),require("@lrnwebcomponents/simple-icon/lib/simple-icon-lite.js"),require("@lrnwebcomponents/simple-icon/lib/simple-icon-button-lite.js")):"function"==typeof define&&define.amd?define(["exports","@lrnwebcomponents/multiple-choice/lib/confetti-container.js","lit","@lrnwebcomponents/simple-colors/simple-colors.js","@lrnwebcomponents/i18n-manager/lib/I18NMixin.js","@lrnwebcomponents/simple-icon/lib/simple-icons.js","@lrnwebcomponents/simple-icon/lib/simple-icon-lite.js","@lrnwebcomponents/simple-icon/lib/simple-icon-button-lite.js"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).FlashCard={},e.$$0,e.lit,e.simpleColors_js,e.I18NMixin_js)}(this,(function(e,t,n,r,o){"use strict";function i(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var s,c,a,l,u,p=i(t);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,A(r.key),r)}}function b(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function y(e,t,n){return(t=A(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return x(e)}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return k(this,n)}}function S(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=w(e)););return e}function O(){return O="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=S(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},O.apply(this,arguments)}function R(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function P(e){return function(e){if(Array.isArray(e))return q(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var C,I,_,E,T,U=function(e){g(r,e);var t=j(r);function r(){var e;return h(this,r),(e=t.call(this)).back=!1,e.status="pending",e.correctAnswer="",e.showResult=!1,e.statusIcon="",e.sideToShow="front",e.userAnswer="",e.icon="",e.message="",e.t={yourAnswer:"Your answer",checkAnswer:"Check answer",retry:"Retry"},e.registerLocalization({context:x(e),localesPath:new URL("../locales/","undefined"==typeof document&&"undefined"==typeof location?new(require("url").URL)("file:"+__filename).href:"undefined"==typeof document?location.href:document.currentScript&&document.currentScript.src||new URL("flash-card.umd.js",document.baseURI).href).href,locales:["es","fr","ja"]}),e}return b(r,[{key:"updated",value:function(e){var t=this;O(w(r.prototype),"updated",this)&&O(w(r.prototype),"updated",this).call(this,e),e.forEach((function(e,n){"status"===n&&void 0!==e&&t.dispatchEvent(new CustomEvent("flash-card-status-change",{detail:t.status,bubbles:!0})),"back"===n&&(t.sideToShow=t[n]?"back":"front")}))}},{key:"equalsIgnoringCase",value:function(e){return 0===e.localeCompare(this.shadowRoot.querySelector("input").value,void 0,{sensitivity:"base"})}},{key:"checkUserAnswer",value:function(){var e=this.back?"front":"back",t=this.shadowRoot.querySelector('[name="'.concat(e,'"]')).assignedNodes({flatten:!0})[0].querySelector('[name="'.concat(e,'"]')).assignedNodes({flatten:!0})[0].innerText;this.correct=this.equalsIgnoringCase(t),this.status=this.equalsIgnoringCase(t)?"correct":"incorrect",this.icon=this.equalsIgnoringCase(t)?"check":"cancel",this.message=this.equalsIgnoringCase(t)?"Correct!":"Incorrect!",this.showResult=!this.equalsIgnoringCase(t),this.correctAnswer=this.back?this.shadowRoot.querySelector('[name="front"]').assignedNodes({flatten:!0})[0].querySelector('[name="front"]').assignedNodes({flatten:!0})[0].innerText:this.shadowRoot.querySelector('[name="back"]').assignedNodes({flatten:!0})[0].querySelector('[name="back"]').assignedNodes({flatten:!0})[0].innerText,this.shadowRoot.querySelector("#check").disabled=!0,this.shadowRoot.querySelector("input").disabled=!0}},{key:"inputChanged",value:function(e){this.userAnswer=e.target.value}},{key:"resetCard",value:function(){this.showResult=!1,this.correct=!1,this.userAnswer="",this.status="pending",this.sideToShow=this.back?"back":"front",this.correctAnswer="",this.shadowRoot.querySelector("input").disabled=!1,this.shadowRoot.querySelector("input").value=""}},{key:"render",value:function(){var e=this;return n.html(s||(s=R(['\n      <div>\n        <p id="question">\n          <slot name="front" id="front"></slot>\n          <slot name="back" id="back"></slot>\n        </p>\n        ','\n      </div>\n      <div class="answer-section">\n        <input\n          id="answer"\n          type="text"\n          .placeholder="','"\n          @input="','"\n          @keypress="','"\n          .value="','"\n        />\n        ','\n      </div>\n      <div class="retry">\n        <simple-icon-button-lite icon="refresh" @click="','"\n          >',"</simple-icon-button-lite\n        >\n      </div>\n    "])),this.showResult||this.correct?n.html(c||(c=R(['<p class="answer-message">\n              Correct Answer: ',"\n            </p>"])),this.correctAnswer):"",this.t.yourAnswer,this.inputChanged,(function(t){return"Enter"===t.key?e.checkUserAnswer():""}),this.userAnswer,"pending"===this.status?n.html(a||(a=R(['<button\n              id="check"\n              ?disabled="','"\n              @click="','"\n            >\n              ',"\n            </button>"])),""===this.userAnswer,this.checkUserAnswer,this.t.checkAnswer):n.html(l||(l=R(['<span id="status-message"\n              ><simple-icon-lite\n                id="status-icon"\n                icon="','"\n              ></simple-icon-lite\n              >',"</span\n            >"])),this.icon,this.message),this.resetCard,this.t.retry)}}],[{key:"tag",get:function(){return"flash-card-answer-box"}},{key:"properties",get:function(){return f(f({},O(w(r),"properties",this)),{},{back:{type:Boolean,reflect:!0},sideToShow:{type:String,reflect:!0,attribute:"side-to-show"},userAnswer:{type:String,attribute:"user-answer"},status:{type:String,reflect:!0},showResult:{type:Boolean,attribute:"show-result",reflect:!0},statusIcon:{type:String,attribute:!1}})}},{key:"styles",get:function(){return n.css(u||(u=R(['\n      :host {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n      }\n      .answer-section {\n        display: flex;\n        flex-direction: row;\n        align-items: center;\n        justify-content: space-between;\n        width: 300px;\n        height: 45px;\n        border-radius: 20px;\n        border: solid 1px var(--simple-colors-default-theme-accent-5);\n        background-color: white;\n        padding: 0;\n      }\n      .answer-section:focus-within {\n        border-color: var(--simple-colors-default-theme-accent-6);\n        box-shadow: 0 0 10px var(--simple-colors-default-theme-accent-6);\n      }\n      input {\n        border: none;\n        padding: 10px;\n        font-size: 14px;\n        height: 25px;\n        border-radius: 19px 0 0 19px;\n        margin: 0;\n        width: 11em;\n        background-color: white;\n      }\n      input:focus {\n        outline: none;\n      }\n      button#check {\n        background-color: var(--simple-colors-default-theme-accent-10);\n        color: var(--simple-colors-default-theme-grey-1);\n        font-size: 14px;\n        margin: none;\n        padding: 0px;\n        border-radius: 0 19px 19px 0;\n        border: none;\n        overflow: hidden;\n        width: 50em;\n        height: 45px;\n      }\n      .retry simple-icon-button-lite {\n        color: red;\n        --simple-icon-button-border-radius: none;\n        --simple-icon-button-padding: 4px;\n      }\n      button:hover {\n        opacity: 0.8;\n      }\n      button:disabled {\n        opacity: 0.5;\n        background-color: #dddddd;\n        color: black;\n      }\n      p {\n        font-family: Helvetica;\n        color: var(--simple-colors-default-theme-accent-12);\n        font-weight: normal;\n        font-size: 20px;\n        text-align: center;\n      }\n      :host([side-to-show="front"]) slot[name="back"] {\n        display: none;\n      }\n      :host([side-to-show="back"]) slot[name="front"] {\n        display: none;\n      }\n      :host([status="correct"]) .retry,\n      :host([status="incorrect"]) .retry {\n        display: flex;\n      }\n\n      :host([status="correct"]) #status-message {\n        color: green;\n      }\n\n      :host([status="correct"]) #status-icon {\n        color: green;\n      }\n\n      :host([status="incorrect"]) #status-message {\n        color: red;\n      }\n\n      :host([status="incorrect"]) #status-icon {\n        color: red;\n      }\n\n      simple-icon-lite {\n        --simple-icon-width: 35px;\n        --simple-icon-height: 35px;\n        color: var(--simple-colors-default-theme-accent-10);\n      }\n\n      .sr-only {\n        position: absolute;\n        left: -10000px;\n        top: auto;\n        width: 1px;\n        height: 1px;\n        overflow: hidden;\n      }\n\n      .retry {\n        display: none;\n        width: 100%;\n        justify-content: flex-end;\n        padding-top: 10px;\n      }\n\n      #status-message {\n        margin-right: 15px;\n        display: flex;\n        align-items: center;\n        font-family: Helvetica;\n      }\n\n      #status-icon {\n        --simple-icon-height: 25px;\n        --simple-icon-width: 25px;\n      }\n\n      .answer-message {\n        font-size: 10pt;\n      }\n    '])))}}]),r}(o.I18NMixin(r.SimpleColors));customElements.define(U.tag,U);var N,z,D,K=function(e){g(r,e);var t=j(r);function r(){var e;return h(this,r),(e=t.call(this)).imgSrc="",e.imgKeyword="grey box",e.status="pending",e.answerIcon=!1,e.icon="",e}return b(r,[{key:"updated",value:function(e){var t=this;e.forEach((function(e,n){"status"===n&&"correct"===t[n]&&(t.answerIcon=!0,t.icon="check"),"status"===n&&"incorrect"===t[n]&&(t.answerIcon=!0,t.icon="cancel"),"status"===n&&"pending"===t[n]&&(t.answerIcon=!1)}))}},{key:"render",value:function(){return n.html(C||(C=R(['\n      <div>\n        <div class="overlay">\n          <div class="backgroundbox">\n            ',"\n          </div>\n        </div>\n        ","\n      </div>\n    "])),""!==this.imgSrc?n.html(I||(I=R(['<img src="','" alt="" />'])),this.imgSrc):n.html(_||(_=R(['<img\n                  src="https://loremflickr.com/320/240/','?lock=1"\n                  alt=""\n                />'])),this.imgKeyword),this.answerIcon?n.html(E||(E=R(['<simple-icon-lite icon="','"></simple-icon-lite>'])),this.icon):"")}}],[{key:"tag",get:function(){return"flash-card-image-prompt"}},{key:"styles",get:function(){return n.css(T||(T=R(['\n      :host {\n        display: block;\n        width: 320px;\n        height: 265px;\n      }\n\n      img {\n        display: flex;\n        margin: 25px auto auto;\n        height: 200px;\n        width: 275px;\n        border: 5px solid white;\n        border-radius: 19px;\n        box-shadow: 0 0 10px black;\n      }\n\n      .backgroundbox {\n        display: flex;\n        background-color: var(--simple-colors-default-theme-accent-4);\n        border-radius: 19px 19px 0 0;\n        height: 265px;\n        width: 320px;\n      }\n\n      .overlay {\n        position: relative;\n      }\n\n      .overlay::before {\n        content: "";\n        width: 100%;\n        height: 100%;\n        position: absolute;\n        border: 1px;\n        border-radius: 19px 19px 0px 0px;\n      }\n\n      simple-icon-lite {\n        --simple-icon-height: 100px;\n        --simple-icon-width: 100px;\n        color: white;\n        transform: translate(-50%, -190%);\n        top: 50%;\n        left: 50%;\n        z-index: 100;\n      }\n\n      :host([status="pending"]) .overlay::before {\n        display: flex;\n        background: transparent;\n      }\n\n      :host([status="correct"]) .overlay::before {\n        display: flex;\n        background: green;\n        filter: opacity(0.65);\n      }\n\n      :host([status="incorrect"]) .overlay::before {\n        display: flex;\n        background: red;\n        filter: opacity(0.65);\n      }\n    '])))}},{key:"properties",get:function(){return f(f({},O(w(r),"properties",this)),{},{imgSrc:{type:String,reflect:!0,attribute:"img-src"},imgKeyword:{type:String,attribute:"img-keyword"},status:{type:String,reflect:!0},answerIcon:{type:Boolean,reflect:!0},icon:{type:String}})}}]),r}(r.SimpleColors);customElements.define(K.tag,K);var L=function(e){g(r,e);var t=j(r);function r(){var e;return h(this,r),(e=t.call(this)).imgKeyword="",e.imgSource="",e}return b(r,[{key:"statusChanged",value:function(e){var t=this;this.status=e.detail,"correct"===this.status&&Promise.resolve(p).then((function(e){setTimeout((function(){t.shadowRoot.querySelector("#confetti").setAttribute("popped","")}),0)}))}},{key:"render",value:function(){return n.html(N||(N=R(['\n      <confetti-container id="confetti">\n        ','\n        <flash-card-answer-box\n          @flash-card-status-change="','"\n        >\n          <div slot="front">\n            <slot slot="front" name="front"></slot>\n          </div>\n          <div slot="back">\n            <slot slot="back" name="back"></slot>\n          </div>\n        </flash-card-answer-box>\n      </confetti-container>\n    '])),this.imgSource||this.imgKeyword?n.html(z||(z=R(['\n              <flash-card-image-prompt\n                img-src="','"\n                img-keyword="','"\n                status="','"\n              ></flash-card-image-prompt>\n            '])),this.imgSource,this.imgKeyword,this.status):"",this.statusChanged)}}],[{key:"tag",get:function(){return"flash-card"}},{key:"properties",get:function(){return f(f({},O(w(r),"properties",this)),{},{inverted:{type:Boolean},imgSource:{type:String,attribute:"img-source",reflect:!0},imgKeyword:{type:String,attribute:"img-keyword"},status:{type:String,reflect:!0}})}},{key:"styles",get:function(){return[].concat(P(O(w(r),"styles",this)),[n.css(D||(D=R(["\n        :host {\n          display: block;\n          border: 1px solid var(--simple-colors-default-theme-accent-6);\n          min-width: 320px;\n          min-height: 155px;\n          border-radius: 20px;\n          padding: 20px;\n          width: 5em;\n          background-color: var(--simple-colors-default-theme-accent-2);\n          box-shadow: 0 0 5px var(--simple-colors-default-theme-accent-7);\n          margin: 10px;\n        }\n        p {\n          color: var(--simple-colors-default-theme-accent-10);\n        }\n      "])))])}},{key:"haxProperties",get:function(){return new URL("./lib/".concat(this.tag,".haxProperties.json"),"undefined"==typeof document&&"undefined"==typeof location?new(require("url").URL)("file:"+__filename).href:"undefined"==typeof document?location.href:document.currentScript&&document.currentScript.src||new URL("flash-card.umd.js",document.baseURI).href).href}}]),r}(r.SimpleColors);customElements.define(L.tag,L),e.FlashCard=L,Object.defineProperty(e,"__esModule",{value:!0})}));
