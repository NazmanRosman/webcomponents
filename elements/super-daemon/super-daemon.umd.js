!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("lit"),require("@lrnwebcomponents/simple-icon/lib/simple-icon-button.js"),require("web-dialog/index.js"),require("@lrnwebcomponents/absolute-position-behavior/absolute-position-behavior.js"),require("@lrnwebcomponents/simple-icon/lib/simple-icons.js"),require("@lrnwebcomponents/simple-icon/lib/simple-icon-lite.js"),require("@lrnwebcomponents/simple-fields/lib/simple-fields-field.js"),require("@lrnwebcomponents/simple-filter/simple-filter.js"),require("@lrnwebcomponents/i18n-manager/lib/I18NMixin.js"),require("@lrnwebcomponents/simple-fields/lib/simple-tag.js")):"function"==typeof define&&define.amd?define(["exports","lit","@lrnwebcomponents/simple-icon/lib/simple-icon-button.js","web-dialog/index.js","@lrnwebcomponents/absolute-position-behavior/absolute-position-behavior.js","@lrnwebcomponents/simple-icon/lib/simple-icons.js","@lrnwebcomponents/simple-icon/lib/simple-icon-lite.js","@lrnwebcomponents/simple-fields/lib/simple-fields-field.js","@lrnwebcomponents/simple-filter/simple-filter.js","@lrnwebcomponents/i18n-manager/lib/I18NMixin.js","@lrnwebcomponents/simple-fields/lib/simple-tag.js"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).SuperDaemon={},e.lit,null,null,null,null,null,null,e.simpleFilter_js,e.I18NMixin_js)}(this,(function(e,t,n,o,i,r,a,s,l,c){"use strict";function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(){d=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var r=t&&t.prototype instanceof h?t:h,a=Object.create(r.prototype),s=new j(i||[]);return o(a,"_invoke",{value:k(e,n,s)}),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var p={};function h(){}function m(){}function f(){}var g={};l(g,r,(function(){return this}));var y=Object.getPrototypeOf,w=y&&y(y(O([])));w&&w!==t&&n.call(w,r)&&(g=w);var v=f.prototype=h.prototype=Object.create(g);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function i(o,r,a,s){var l=u(e[o],e,r);if("throw"!==l.type){var c=l.arg,p=c.value;return p&&"object"==typeof p&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):t.resolve(p).then((function(e){c.value=e,a(c)}),(function(e){return i("throw",e,a,s)}))}s(l.arg)}var r;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){i(e,n,t,o)}))}return r=r?r.then(o,o):o()}})}function k(e,t,n){var o="suspendedStart";return function(i,r){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw r;return C()}for(n.method=i,n.arg=r;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=u(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}function S(e,t){var n=t.method,o=e.iterator[n];if(void 0===o)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var i=u(o,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,p;var r=i.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function O(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return m.prototype=f,o(v,"constructor",{value:f,configurable:!0}),o(f,"constructor",{value:m,configurable:!0}),m.displayName=l(f,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(x.prototype),l(x.prototype,a,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,o,i,r){void 0===r&&(r=Promise);var a=new x(c(t,n,o,i),r);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(v),l(v,s,"Generator"),l(v,r,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},e.values=O,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(R),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return a.type="throw",a.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i],a=r.completion;if("root"===r.tryLoc)return o("end");if(r.tryLoc<=this.prev){var s=n.call(r,"catchLoc"),l=n.call(r,"finallyLoc");if(s&&l){if(this.prev<r.catchLoc)return o(r.catchLoc,!0);if(this.prev<r.finallyLoc)return o(r.finallyLoc)}else if(s){if(this.prev<r.catchLoc)return o(r.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return o(r.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),R(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var i=o.arg;R(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}function h(e,t,n,o,i,r,a){try{var s=e[r](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(o,i)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var r=e.apply(t,n);function a(e){h(r,o,i,a,s,"next",e)}function s(e){h(r,o,i,a,s,"throw",e)}a(void 0)}))}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,q(o.key),o)}}function y(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function w(e,t,n){return(t=q(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function x(e,t){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},x(e,t)}function k(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=b(e);if(t){var i=b(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return k(this,n)}}function E(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=b(e)););return e}function R(){return R="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var o=E(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},R.apply(this,arguments)}function j(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function O(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function q(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var L,P,_,D,N,A,z,I,T,M,F,B,K,G,V,Y,U,H=function(e){v(o,e);var n=S(o);function o(){var e;return f(this,o),(e=n.call(this)).title=null,e.path=null,e.icon=null,e.image=null,e.key=null,e.eventName=null,e.more=!1,e.showDetails=!1,e.value={},e.tags=[],e.shadowRootOptions=p(p({},t.LitElement.shadowRootOptions),{},{delegatesFocus:!0}),e.active=!1,e}return y(o,[{key:"keyEvent",value:function(e){"Enter"!==e.code&&"Space"!==e.code||(this.selected(),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation())}},{key:"clickEvent",value:function(e){this.selected()}},{key:"selected",value:function(){this.dispatchEvent(new CustomEvent("super-daemon-row-selected",{composed:!0,bubbles:!0,cancelable:!0,detail:this})),this.dispatchEvent(new CustomEvent(this.eventName,{composed:!0,bubbles:!0,cancelable:!0,detail:this.value})),"super-daemon-run-program"!==this.eventName&&this.dispatchEvent(new CustomEvent("super-daemon-close",{composed:!0,bubbles:!0,cancelable:!0,detail:this}))}},{key:"_focusIn",value:function(e){this.active=!0}},{key:"_focusOut",value:function(e){this.active=!1}},{key:"pickColor",value:function(e){return 0===e?"blue":"orange"}},{key:"keyAry",value:function(e){return e?e.split("+"):[]}},{key:"render",value:function(){var e=this;return t.html(L||(L=j(['\n      <button part="button" @click="','" @keydown="','" @focusin="','" @focusout="','">\n      ',"\n      ",'\n        <div class="label-wrap">\n          <div class="action" part="action">','</div>\n          <div class="path" part="path">','</div>\n        </div>\n        <div class="tags" part="tags">\n          ','\n        </div>\n        <div class="key-combo" part="key-combo">\n          ',"\n        </div>\n        ","\n      </button>\n      ","\n    "])),this.clickEvent,this.keyEvent,this._focusIn,this._focusOut,this.icon?t.html(P||(P=j(['<simple-icon-lite icon="','" class="result-icon"></simple-icon-lite>'])),this.icon):"",this.image?t.html(_||(_=j(['<img src="','" class="result-image" alt=""/>'])),this.image):"",this.title,this.path,this.tags.map((function(n,o){return t.html(D||(D=j([' <simple-tag\n              accent-color="','"\n              value="','"\n              part="tag tag-','"\n            ></simple-tag>'])),e.pickColor(o),n,o)})),this.keyAry(this.key).map((function(e){return t.html(N||(N=j(['<kbd class="keyboard-shortcut">',"</kbd>"])),e)})),this.more?t.html(A||(A=j(['<simple-icon-button label="More details" icon="more-vert" aria-controls="details" @click="','"  @keydown="','"></simple-icon-button>'])),this.toggleDetailsClick,this.toggleDetailsKey):"",this.more?t.html(z||(z=j(['<details id="details" ?open="','" @toggle="','">\n        <summary>Details</summary>\n        <div>\n          <slot></slot>\n        </div>\n      </details>'])),this.showDetails,this.openChanged):"")}},{key:"toggleDetailsKey",value:function(e){"Enter"!==e.key&&"Space"!==e.key||(this.showDetails=!this.showDetails,e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation())}},{key:"toggleDetailsClick",value:function(e){this.showDetails=!this.showDetails,e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()}},{key:"openChanged",value:function(e){this.showDetails=e.target.open}}],[{key:"tag",get:function(){return"super-daemon-row"}},{key:"properties",get:function(){return{title:{type:String},path:{type:String},icon:{type:String},mini:{type:Boolean,reflect:!0},image:{type:String},more:{type:Boolean},showDetails:{type:Boolean},key:{type:String},eventName:{type:String,attribute:"event-name"},value:{type:Object},tags:{type:Array},active:{type:Boolean,reflect:!0}}}},{key:"styles",get:function(){var e=[];return R(b(o),"styles",this)&&(e=R(b(o),"styles",this)),[].concat(O(e),[t.css(I||(I=j(['\n        :host {\n          display: block;\n          margin: 8px 16px;\n        }\n        :host([active]),\n        :host:hover {\n          border-radius: 8px;\n          background-color: var(\n            --super-daemon-row-hover,\n            rgba(0, 100, 200, 0.1)\n          );\n          outline: 2px solid black;\n        }\n        :host([mini]) {\n          margin: 0;\n          --super-daemon-row-label: 18px;\n          --super-daemon-row-path: 10px;\n        }\n        button {\n          display: flex;\n          padding: 16px;\n          width: 100%;\n          border-radius: 0;\n          border: none;\n          align-items: middle;\n          justify-content: space-between;\n          background-color: transparent;\n        }\n        :host([mini]) button {\n          padding: 4px;\n          justify-content: flex-start;\n        }\n        .result-icon {\n          display: inline-flex;\n          --simple-icon-height: var(--super-daemon-row-icon, 50px);\n          --simple-icon-width: var(--super-daemon-row-icon, 50px);\n        }\n        :host([mini]) .result-icon {\n          --simple-icon-height: var(--super-daemon-row-icon, 20px);\n          --simple-icon-width: var(--super-daemon-row-icon, 20px);\n        }\n        .result-image {\n          display: inline-flex;\n          max-height: 64px;\n          max-width: 100px;\n        }\n        :host([mini]) .result-image {\n          max-height: 32px;\n          max-width: 50px;\n        }\n        .label-wrap {\n          min-width: 50%;\n          overflow: hidden;\n          text-align: left;\n        }\n        :host([mini]) .label-wrap {\n          width: 100%;\n          margin-left: 16px;\n        }\n        .tags {\n          width: 30%;\n          line-height: 32px;\n          height: 64px;\n          overflow: hidden;\n        }\n        :host([mini]) .tags {\n          display: none;\n        }\n        .label-wrap .action {\n          font-size: var(--super-daemon-row-label, 32px);\n          font-weight: bold;\n          max-width: 90%;\n          word-break: break-all;\n          overflow: hidden;\n          line-height: var(--super-daemon-row-label, 32px);\n          height: var(--super-daemon-row-label, 32px);\n        }\n        :host([mini]) .label-wrap .action {\n          max-width: unset;\n        }\n        .label-wrap .path {\n          font-size: var(--super-daemon-row-path, 20px);\n          font-style: italic;\n          margin-top: 8px;\n          overflow-wrap: break-word;\n          word-break: break-all;\n          overflow: hidden;\n          max-width: 80%;\n          line-height: var(--super-daemon-row-path, 20px);\n          height: var(--super-daemon-row-path, 20px);\n        }\n        :host([mini]) .label-wrap .path {\n          max-width: unset;\n        }\n        .key-combo {\n          height: 64px;\n        }\n        :host([mini]) .key-combo {\n          display: none;\n        }\n        .keyboard-shortcut {\n          background-color: rgba(0, 0, 0, 0.1);\n          border-radius: 4px;\n          color: rgba(0, 0, 0, 0.7);\n          box-shadow: rgb(209 213 219) 0px -4px 0px inset,\n            rgb(0 0 0 / 40%) 0px 1px 1px;\n          display: block;\n          letter-spacing: 0px;\n          font-family: "Press Start 2P", "Trebuchet MS", "Lucida Sans Unicode",\n            "Lucida Grande", "Lucida Sans", Arial, sans-serif;\n          padding: 6px 4px;\n          margin: 4px auto;\n          font-size: 9px;\n        }\n        summary {\n          display: none;\n        }\n        @keyframes details-show {\n          from {\n            opacity:0;\n            transform: var(--details-translate, translateY(-0.5em));\n          }\n          to {\n            opacity:1;\n            transform: var(--details-translate, translateY(0));\n          }\n        }\n\n        details[open] {\n          padding: 0 16px 16px 16px;\n          animation: details-show 100ms ease-in-out;\n        }\n      '])))])}}]),o}(t.LitElement);customElements.define(H.tag,H);var $,W,J,Q,X=function(e){v(o,e);var n=S(o);function o(){var e;return f(this,o),(e=n.call(this))._defaultTextEmpty="No results for this term",e.t.noResultsForThisTerm=e._defaultTextEmpty,e.t.whatAreYouLookingFor="What are you looking for?",e.t.filterCommands="Filter commands",e.t.commands="Commands",e.t.loadingResults="Loading results",e.opened=!1,e.items=[],e.mini=!1,e.loading=!1,e.programSearch="",e.commandContext="*",e.programName=null,e.shadowRootOptions=p(p({},t.LitElement.shadowRootOptions),{},{delegatesFocus:!0}),e.where="index",e.icon="hardware:keyboard-return",e}return y(o,[{key:"updated",value:function(e){var t=this;R(b(o.prototype),"updated",this)&&R(b(o.prototype),"updated",this).call(this,e),e.forEach((function(e,n){"opened"==n&&t.opened&&(t.shadowRoot.querySelector("#inputfilter").focus(),t.shadowRoot.querySelector(".results").scrollTo(0,0)),"commandContext"==n&&t.dispatchEvent(new CustomEvent("super-daemon-command-context-changed",{detail:{value:t[n]}}))}))}},{key:"setupProgram",value:function(){this.programSearch="",this.shadowRoot.querySelector("#inputfilter").focus(),this.shadowRoot.querySelector("#inputfilter").select(),this.shadowRoot.querySelector(".results").scrollTo(0,0)}},{key:"inputfilterChanged",value:function(e){this.programName?this.programSearch=e.target.value:this.like=e.target.value}},{key:"itemSelected",value:function(e){this.like="",this.programSearch=""}},{key:"_resultsKeydown",value:function(e){if(this.filtered.length>0&&this.shadowRoot.querySelector("super-daemon-row[active]"))switch(e.key){case"ArrowUp":case"ArrowLeft":this.shadowRoot.querySelector("super-daemon-row[active]")===this.shadowRoot.querySelector("super-daemon-row")?this.shadowRoot.querySelector("super-daemon-row:last-child").shadowRoot.querySelector("button").focus():this.shadowRoot.querySelector("super-daemon-row[active]").previousElementSibling.shadowRoot.querySelector("button").focus();break;case"ArrowDown":case"ArrowRight":this.shadowRoot.querySelector("super-daemon-row[active]")===this.shadowRoot.querySelector("super-daemon-row:last-child")?this.shadowRoot.querySelector("super-daemon-row").shadowRoot.querySelector("button").focus():this.shadowRoot.querySelector("super-daemon-row[active]").nextElementSibling.shadowRoot.querySelector("button").focus()}}},{key:"_inputKeydown",value:function(e){if(this.filtered.length>0)switch(e.key){case"Enter":this.shadowRoot.querySelector("super-daemon-row").selected();break;case"ArrowUp":this.shadowRoot.querySelector("super-daemon-row:last-child").shadowRoot.querySelector("button").focus(),this.shadowRoot.querySelector("super-daemon-row:last-child").scrollIntoView({block:"end",inline:"nearest"});break;case"ArrowDown":this.shadowRoot.querySelector("super-daemon-row").shadowRoot.querySelector("button").focus(),this.shadowRoot.querySelector("super-daemon-row").scrollIntoView({block:"start",inline:"nearest"})}switch(e.key){case"!":case"/":case"\\":case">":case"<":case"?":"\\"===e.key&&""==this.like||"!"===e.key&&""==this.like?(this.commandContext="/",e.preventDefault()):"<"===e.key&&""==this.like?(this.commandContext=">",e.preventDefault()):""==this.like&&(this.commandContext=e.key,e.preventDefault());break;case"Backspace":""==this.programSearch&&this.programName?(this.dispatchEvent(new CustomEvent("super-daemon-run-program",{bubbles:!0,cancelable:!0,composed:!0,detail:!1})),e.preventDefault()):!this.programName&&""==this.like&&this.commandContext&&(this.commandContext="*",e.preventDefault())}}},{key:"getActiveTitle",value:function(e){switch(e){case"/":return this.t.slashCommandsActive;case">":return this.t.developerConsoleActive;case"?":return this.t.helpActive}return""}},{key:"getActiveIcon",value:function(e){switch(e){case"/":return"hax:slash";case">":return"hax:console-line";case"?":return"icons:help"}return""}},{key:"render",value:function(){var e=this;return t.html(T||(T=j(['\n      <div class="search">\n      ',"\n      ",'\n      <simple-fields-field\n          id="inputfilter"\n          @value-changed="','"\n          @keydown="','"\n          .value="','"\n          aria-controls="filter"\n          label="','"\n          placeholder="','"\n          type="text"\n          auto-validate=""\n          autofocus\n          part="filter"\n        ></simple-fields-field>\n        <simple-icon-lite icon="','" class="icon"></simple-icon-lite>\n      </div>\n      <div class="results-stats">\n        '," / "," ",'\n      </div>\n      <div class="results" @keydown="','" @super-daemon-row-selected="','">\n      ',"\n      </div>\n    "])),"*"!=this.commandContext?t.html(M||(M=j(['<simple-icon-lite title="','" icon="','" class="user-context-icon"></simple-icon-lite>'])),this.getActiveTitle(this.commandContext),this.getActiveIcon(this.commandContext)):"",this.programName?t.html(F||(F=j(['<span class="program">',"</span>"])),this.programName):"",this.inputfilterChanged,this._inputKeydown,this.like,this.t.filterCommands,this.t.whatAreYouLookingFor,this.icon,this.filtered.length,this.items.length,this.t.commands,this._resultsKeydown,this.itemSelected,this.loading?t.html(B||(B=j(['<div class="loading">',"..</div>"])),this.t.loadingResults):t.html(K||(K=j(["\n      ","\n      "])),0===this.filtered.length?t.html(G||(G=j(['<div class="no-results">',"</div>"])),this.t.noResultsForThisTerm):t.html(V||(V=j(["\n          ","\n        "])),this.filtered.map((function(n,o){return t.html(Y||(Y=j(['\n              <super-daemon-row\n                data-row-index="','"\n                .value="','"\n                icon="','"\n                image="','"\n                title="','"\n                .tags="','"\n                event-name="','"\n                path="','"\n                key="','"\n                ?more="','"\n                ?mini="','"\n              >',"</super-daemon-row>\n            "])),o,n.value,n.icon,n.image,n.title,n.tags,n.eventName,n.path,n.key,n.more&&!e.mini,e.mini,n.more?n.more:t.nothing)})))))}}],[{key:"tag",get:function(){return"super-daemon-ui"}},{key:"properties",get:function(){return p(p({},R(b(o),"properties",this)),{},{icon:{type:String},mini:{type:Boolean,reflect:!0},loading:{type:Boolean,reflect:!0},programSearch:{type:String,attribute:"program-search"},programName:{type:String,attribute:"program-name"},commandContext:{type:String,attribute:"command-context"},opened:{type:Boolean,reflect:!0}})}},{key:"styles",get:function(){var e=[];return R(b(o),"styles",this)&&(e=R(b(o),"styles",this)),[].concat(O(e),[t.css(U||(U=j(['\n        :host {\n          display: block;\n        }\n        .search {\n          display: flex;\n        }\n        .search input {\n          display: inline-flex;\n          width: 100%;\n        }\n        .search .icon {\n          display: inline-flex;\n          --simple-icon-height: 50px;\n          --simple-icon-width: 100px;\n        }\n        \n        .search .user-context-icon {\n          display: inline-flex;\n          --simple-icon-height: 50px;\n          --simple-icon-width: 30px;\n        }\n        :host([mini]) .search .user-context-icon {\n          --simple-icon-height: 24px;\n          --simple-icon-width: 24px;\n          margin-top: 0px;\n        }\n        .loading {\n          font-size: 24px;\n          font-family: "Roboto Mono", monospace;\n          font-style: italic;\n          margin: 16px;\n        }\n        .program {\n          display: inline-flex;\n          font-family: "Roboto Mono", monospace;\n          background-color: black;\n          color: white;\n          line-break: anywhere;\n          word-break: break-all;\n          word-wrap: break-word;\n          text-overflow: clip;\n          overflow: hidden;\n          line-height: 16px;\n          height: 16px;\n          padding: 2px 4px;\n          margin: 16px 0 0 -2px;\n          font-size: 10px;\n          width: 100%;\n          max-width: 100px;\n        }\n        :host([mini]) .program {\n          line-height: 12px;\n          font-size: 10px;\n          max-width: 50px;\n          height: 24px;\n          margin: 0;\n          padding: 2px;\n        }\n        .results-stats {\n          right: 0;\n          position: absolute;\n          font-size: 12px;\n          color: #666;\n          padding: 8px;\n          margin: 8px;\n        }\n        .results {\n          width: 100%;\n          display: block;\n          border: 2px solid black;\n          max-height: 50vh;\n          min-height: 30vh;\n          overflow-y: scroll;\n          scroll-snap-align: start;\n          scroll-snap-type: y mandatory;\n          padding: 32px 0px;\n        }\n        .no-results {\n          font-size: 32px;\n          font-weight: bold;\n          max-width: 90%;\n          word-break: break-all;\n          overflow: hidden;\n          line-height: 32px;\n          height: 32px;\n          margin: 16px auto;\n          border: 1px solid transparent;\n          box-shadow: none;\n          outline: 0px;\n        }\n        :host([mini]) .no-results {\n          font-size: 14px;\n          margin: 8px auto;\n          line-height: 14px;\n        }\n        simple-fields-field {\n          line-height: 40px;\n          padding: 8px;\n          color: inherit;\n          line-height: normal;\n          font-family: inherit;\n          width: 100%;\n          margin: 0px;\n        }\n        :host([mini]) simple-fields-field::part(option-input) {\n          font-size: 12px; \n        }\n        simple-fields-field::part(option-input) {\n          padding: 0px 2px;\n          font-size: 24px;\n        }\n        simple-fields-field::part(label) {\n          opacity: 0;\n          height: 0;\n          width: 0;\n          position: absolute;\n          pointer-events: none;\n        }\n\n        @media screen and (max-width: 800px) {\n          .results {\n            padding: 0px;\n          }\n          simple-fields-field {\n            line-height: 20px;\n          }\n          .search .icon {\n            display: none;\n          }\n          super-daemon-row {\n            --super-daemon-row-icon: 32px;\n            margin: 8px;\n          }\n          super-daemon-row::part(button) {\n            padding: 4px;\n          }\n          super-daemon-row::part(action) {\n            font-size: 28px;\n            line-height: 28px;\n            height: 28px;\n          }\n          super-daemon-row::part(path) {\n            font-size: 16px;\n          }\n          super-daemon-row::part(tags) {\n            width: 20%;\n          }\n          super-daemon-row::part(tag) {\n            display: none;\n          }\n          super-daemon-row::part(tag-0) {\n            display: inline-flex !important;\n            --simple-fields-font-size: 12px;\n          }\n          super-daemon-row::part(key-combo) {\n            display: none;\n          }\n        }\n        @media screen and (max-width: 640px) {\n          super-daemon-row::part(path) {\n            font-size: 12px;\n          }\n          super-daemon-row::part(action) {\n            font-size: 24px;\n            line-height: 24px;\n            height: 24px;\n          }\n        }\n\n        :host([mini]) {\n          background-color: white;\n        }\n        :host([mini]) super-daemon-row {\n          --super-daemon-row-icon: 24px;\n          border-radius: 0px;\n        }\n        :host([mini]) .results-stats {\n          display: none;\n        }\n        :host([mini]) .results {\n          padding: 4px 0px;\n          max-height: unset;\n          min-height: unset;\n          height: 200px;\n        }\n        :host([mini]) .search .icon {\n          display: none;\n        }\n      '])))])}}]),o}(l.SimpleFilterMixin(c.I18NMixin(t.LitElement)));customElements.define(X.tag,X);var Z=function(e){v(i,e);var n,o=S(i);function i(){var e;f(this,i),(e=o.call(this)).activeNode=null,e.icon="hardware:keyboard-return",e.context=[],e.opened=!1,e.items=[],e.loading=!1,e.like="",e.mini=!1,e._programValues={},e.programSearch="",e.allItems=[],e.programResults=[],e.programName=null,e.commandContext="*";var t=void 0!==window.safari;return e.key1=t?"Ctrl":"Alt",e.key2="Shift",e}return y(i,[{key:"connectedCallback",value:function(){R(b(i.prototype),"connectedCallback",this).call(this),window.addEventListener("keydown",this.keyHandler.bind(this)),window.addEventListener("super-daemon-define-option",this.defineOptionEvent.bind(this)),window.addEventListener("super-daemon-element-method",this.elementMethod.bind(this)),window.addEventListener("super-daemon-element-click",this.elementClick.bind(this)),window.addEventListener("super-daemon-run-program",this.runProgramEvent.bind(this))}},{key:"disconnectedCallback",value:function(){R(b(i.prototype),"connectedCallback",this).call(this),window.removeEventListener("keydown",this.keyHandler.bind(this)),window.removeEventListener("super-daemon-define-option",this.defineOptionEvent.bind(this)),window.removeEventListener("super-daemon-element-method",this.elementMethod.bind(this)),window.removeEventListener("super-daemon-element-click",this.elementClick.bind(this)),window.removeEventListener("super-daemon-run-program",this.runProgramEvent.bind(this))}},{key:"runProgram",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;this.commandContext=t,this._programToRun=o,this.programSearch=r,null!=a&&(this.like=a),this._programToRun?(this.shadowRoot.querySelector("super-daemon-ui").setupProgram(),setTimeout(m(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,t.next=4,e._programToRun(e.programSearch,n);case 4:e.programResults=t.sent,e.loading=!1,t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),e.loading=!1;case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),50)):this.programResults=[],this.programName=i}},{key:"runProgramEvent",value:function(e){if(e.detail){var t=e.detail;this._programValues=t,this.like="",this.runProgram(t.context,this._programValues,t.program,t.name,"")}else this.runProgram("/"),this._programValues={}}},{key:"elementMethod",value:function(e){if(e.detail){var t,n=e.detail;n.args||(n.args=[]),(t=n.target)[n.method].apply(t,O(n.args))}}},{key:"elementClick",value:function(e){e.detail&&e.detail.target.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window}))}},{key:"defineOptionEvent",value:function(e){this.defineOption(e.detail)}},{key:"defineOption",value:function(e){e&&e.value&&e.title&&e.eventName&&(e.index=e.tags.join(" ")+" "+e.title+" "+e.key+" "+e.path,this.allItems.push(e))}},{key:"keyHandler",value:function(e){this.allowedCallback()&&("Shift"==this.key2&&e.shiftKey&&("Ctrl"==this.key1&&e.ctrlKey||"Alt"==this.key1&&e.altKey)&&(this.opened=!this.opened,this.opened&&(this.mini=!1)),"Escape"==e.key&&this.opened&&(this.opened=!1))}},{key:"close",value:function(e){this.opened=!1,this.loading=!1,this.like="",this.mini=!1,this._programValues={},this.programSearch="",this.programResults=[],this.programName=null,this.commandContext="*",window.ShadyCSS&&!window.ShadyCSS.nativeShadow&&(this.shadowRoot.querySelector("web-dialog").shadowRoot.querySelector("#backdrop").style.position="relative")}},{key:"filterItems",value:function(e,t){var n=this;return e.filter((function(e){if(e.context){return 0!==("*"==n.commandContext?t.filter((function(t){return e.context.includes(t)})):[n.commandContext].filter((function(t){return e.context.includes(t)}))).length}return!0}))}},{key:"appendContext",value:function(e){e&&!this.context.includes(e)&&this.context.push(e)}},{key:"removeContext",value:function(e){e&&this.context.includes(e)&&this.context.splice(this.context.indexOf(e),1)}},{key:"open",value:function(){var e=this;this.items=this.filterItems(this.allItems,this.context),this.opened=!0;var t=this.shadowRoot.querySelector("web-dialog");t&&(t.$backdrop.addEventListener("click",t.onBackdropClick),t.addEventListener("keydown",t.onKeyDown,{capture:!0,passive:!0}),window.ShadyCSS&&!window.ShadyCSS.nativeShadow&&(this.shadowRoot.querySelector("web-dialog").shadowRoot.querySelector("#backdrop").style.position="fixed",this.shadowRoot.querySelector("web-dialog").shadowRoot.querySelector("#backdrop").style.top=0,this.shadowRoot.querySelector("web-dialog").shadowRoot.querySelector("#backdrop").style.bottom=0,this.shadowRoot.querySelector("web-dialog").shadowRoot.querySelector("#backdrop").style.left=0,this.shadowRoot.querySelector("web-dialog").shadowRoot.querySelector("#backdrop").style.right=0)),setTimeout((function(){e.shadowRoot.querySelector("super-daemon-ui").shadowRoot.querySelector("simple-fields-field").focus(),e.shadowRoot.querySelector("super-daemon-ui").shadowRoot.querySelector("simple-fields-field").select()}),0)}},{key:"focusout",value:function(e){for(var t=this,n=e.relatedTarget;n!==document.body&&null!==n;){if(n===this.shadowRoot.querySelector("super-daemon-ui"))return;if(!n||!n.parentElement)return;n=n.parentElement}n!==this.shadowRoot.querySelector("super-daemon-ui")&&setTimeout((function(){t.opened&&(t.shadowRoot.querySelector("super-daemon-ui").shadowRoot.querySelector("simple-fields-field").focus(),t.shadowRoot.querySelector("super-daemon-ui").shadowRoot.querySelector("simple-fields-field").select())}),0)}},{key:"render",value:function(){return t.html($||($=j(["","\n    "])),this.mini?t.html(W||(W=j(['\n    <absolute-position-behavior\n        justify\n        position="bottom"\n        allow-overlap\n        auto\n        sticky\n        .target="','"\n        ?hidden="','"\n      >\n        <super-daemon-ui\n        ?open="','"\n        ?mini="','"\n        icon="','"\n        ?loading="','"\n        like="','"\n        .items="','"\n        command-context="','"\n        program-name="','"\n        program-search="','"\n        @value-changed="','"\n        @super-daemon-close="','"\n        @super-daemon-command-context-changed="','"\n      ></super-daemon-ui>\n    </absolute-position-behavior>\n    '])),this.activeNode,!this.opened,this.opened,this.mini,this.icon,this.loading,this.like,this.itemsForDisplay(this.items,this.programResults),this.commandContext,this.programName,this.programSearch,this.inputfilterChanged,this.close,this.commandContextChanged):t.html(J||(J=j(['\n      <web-dialog\n        id="dialog"\n        center\n        role="dialog"\n        part="dialog"\n        aria-label="Super Daemon"\n        aria-modal="true"\n        ?open="','"\n        @open="','"\n        @close="','"\n        @focusout="','"\n      >\n        <super-daemon-ui\n        ?open="','"\n        icon="','"\n        ?loading="','"\n        like="','"\n        .items="','"\n        command-context="','"\n        program-name="','"\n        program-search="','"\n        @value-changed="','"\n        @super-daemon-close="','"\n        @super-daemon-command-context-changed="','"\n      ></super-daemon-ui>\n        <simple-icon-button id="cancel" icon="cancel" @click="','"></simple-icon-button>\n      </web-dialog>\n      '])),this.opened,this.open,this.close,this.focusout,this.opened,this.icon,this.loading,this.like,this.itemsForDisplay(this.items,this.programResults),this.commandContext,this.programName,this.programSearch,this.inputfilterChanged,this.close,this.commandContextChanged,this.close))}},{key:"inputfilterChanged",value:(n=m(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.detail.value&&this.programName&&this._programToRun)){e.next=8;break}return this.loading=!0,e.next=4,this._programToRun(t.detail.value,this._programValues);case 4:this.programResults=e.sent,this.loading=!1,e.next=10;break;case 8:this.programResults=[],this.items=this.filterItems(this.allItems,this.context);case 10:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"itemsForDisplay",value:function(e,t){return null!=this.programName?t:e}},{key:"commandContextChanged",value:function(e){if(e.detail.value)switch(e.detail.value){case"/":case"*":case"?":case">":this.commandContext=e.detail.value,this.items=this.filterItems(this.allItems,this.context)}else this.commandContext="*",this.items=this.filterItems(this.allItems,this.context)}},{key:"allowedCallback",value:function(){return!0}}],[{key:"properties",get:function(){return{opened:{type:Boolean,reflect:!0},loading:{type:Boolean,reflect:!0},key1:{type:String},key2:{type:String},icon:{type:String},items:{type:Array},programResults:{type:Array},programName:{type:String},allItems:{type:Array},context:{type:Array},commandContext:{type:String},program:{type:String},programSearch:{type:String},like:{type:String},mini:{type:Boolean},activeNode:{type:Object}}}},{key:"styles",get:function(){var e=[];return R(b(i),"styles",this)&&(e=R(b(i),"styles",this)),[].concat(O(e),[t.css(Q||(Q=j(['\n        :host {\n          display: none;\n        }\n        :host([opened]) {\n          display: block;\n        }\n        web-dialog {\n          --dialog-border-radius: var(--simple-modal-border-radius, 2px);\n          z-index: var(--simple-modal-z-index, 1) !important;\n          padding: 0;\n        }\n        web-dialog::part(dialog) {\n          border: 1px solid var(--simple-modal-border-color, #222);\n          min-height: var(--simple-modal-min-height, unset);\n          min-width: var(--simple-modal-min-width, unset);\n          z-index: var(--simple-modal-z-index, 1000);\n          resize: var(--simple-modal-resize, unset);\n          padding: 0;\n          --dialog-height: var(--simple-modal-height, auto);\n          --dialog-width: var(--simple-modal-width, 75vw);\n          --dialog-max-width: var(--simple-modal-max-width, 100vw);\n          --dialog-max-height: var(--simple-modal-max-height, 100vh);\n        }\n        web-dialog.style-scope.simple-modal {\n          display: none !important;\n        }\n        web-dialog[open].style-scope.simple-modal {\n          display: flex !important;\n          position: fixed !important;\n          margin: auto;\n        }\n        :host([resize="none"]) web-dialog[open].style-scope.simple-modal,\n        :host([resize="horizontal"]) web-dialog[open].style-scope.simple-modal {\n          top: calc(50% - var(--simple-modal-height, auto) / 2);\n        }\n        :host([resize="none"]) web-dialog[open].style-scope.simple-modal,\n        :host([resize="vertical"]) web-dialog[open].style-scope.simple-modal {\n          left: calc(50% - var(--simple-modal-width, 75vw) / 2);\n        }\n        #cancel {\n          position: absolute;\n          right: 0px;\n          top: 0px;\n          z-index: 100000000;\n          display: block;\n          margin: 0;\n          --simple-icon-width: 24px;\n          --simple-icon-height: 24px;\n        }\n        absolute-position-behavior {\n          z-index: var(--simple-modal-z-index, 1000);\n          min-width: 280px;\n        }\n        absolute-position-behavior super-daemon-ui {\n          margin-top: -28px;\n          background-color: white;\n          width: 400px;\n        }\n      '])))])}},{key:"tag",get:function(){return"super-daemon"}}]),i}(t.LitElement);customElements.define(Z.tag,Z),window.SuperDaemonManager=window.SuperDaemonManager||{},window.SuperDaemonManager.requestAvailability=function(){return window.SuperDaemonManager.instance||(window.SuperDaemonManager.instance=document.createElement("super-daemon"),document.body.appendChild(window.SuperDaemonManager.instance)),window.SuperDaemonManager.instance};var ee=window.SuperDaemonManager.requestAvailability();e.SuperDaemon=Z,e.SuperDaemonInstance=ee,Object.defineProperty(e,"__esModule",{value:!0})}));
