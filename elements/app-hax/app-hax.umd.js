!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@lrnwebcomponents/multiple-choice/lib/confetti-container.js"),require("lit"),require("@lrnwebcomponents/simple-colors/simple-colors.js"),require("mobx"),require("@lrnwebcomponents/utils/utils.js"),require("@lrnwebcomponents/haxcms-elements/lib/core/haxcms-site-editor-ui.js"),require("@lrnwebcomponents/haxcms-elements/lib/core/haxcms-editor-builder.js"),require("@lrnwebcomponents/haxcms-elements/lib/core/haxcms-site-editor.js"),require("@lrnwebcomponents/haxcms-elements/lib/core/HAXCMSLitElementTheme.js"),require("@lrnwebcomponents/haxcms-elements/lib/core/haxcms-site-builder.js"),require("@lrnwebcomponents/haxcms-elements/lib/core/haxcms-site-router.js"),require("@lrnwebcomponents/haxcms-elements/lib/core/haxcms-site-store.js"),require("@lrnwebcomponents/h-a-x/h-a-x.js"),require("mobx/dist/mobx.esm.js"),require("@lrnwebcomponents/simple-fields/simple-fields.js"),require("@lrnwebcomponents/grid-plate/grid-plate.js"),require("@lrnwebcomponents/replace-tag/replace-tag.js"),require("@lrnwebcomponents/wc-autoload/wc-autoload.js"),require("@lrnwebcomponents/i18n-manager/lib/I18NMixin.js"),require("@lrnwebcomponents/replace-tag/lib/PerformanceDetect.js"),require("@lrnwebcomponents/simple-icon/lib/simple-icons.js"),require("@lrnwebcomponents/simple-icon/lib/simple-icon-button-lite"),require("@lrnwebcomponents/simple-tooltip/simple-tooltip.js"),require("@lit-labs/motion"),require("@lrnwebcomponents/simple-modal/simple-modal.js"),require("@lrnwebcomponents/simple-datetime/simple-datetime.js"),require("./lib/wired-darkmode-toggle/wired-darkmode-toggle.js"),require("@lrnwebcomponents/simple-popover/lib/SimpleTourFinder.js"),require("./lib/rpg-character-toast/rpg-character-toast.js"),require("wired-elements/lib/wired-button.js"),require("@lrnwebcomponents/simple-icon/lib/simple-icon-lite.js"),require("@lrnwebcomponents/file-system-broker/lib/docx-file-system-broker.js"),require("@lrnwebcomponents/file-system-broker/file-system-broker.js"),require("scrollable-component/index.js"),require("@lrnwebcomponents/micro-frontend-registry/micro-frontend-registry.js"),require("@lrnwebcomponents/micro-frontend-registry/lib/microServices.js"),require("@lrnwebcomponents/promise-progress/promise-progress.js"),require("@lrnwebcomponents/hax-iconset/lib/simple-hax-iconset.js"),require("@lrnwebcomponents/rpg-character/rpg-character.js"),require("@lrnwebcomponents/jwt-login/jwt-login.js"),require("@lrnwebcomponents/simple-colors-shared-styles/simple-colors-shared-styles.js"),require("@lrnwebcomponents/simple-icon/lib/simple-iconset-manifest.js"),require("@lrnwebcomponents/simple-popover/lib/simple-tour.js"),require("@vaadin/router")):"function"==typeof define&&define.amd?define(["exports","@lrnwebcomponents/multiple-choice/lib/confetti-container.js","lit","@lrnwebcomponents/simple-colors/simple-colors.js","mobx","@lrnwebcomponents/utils/utils.js","@lrnwebcomponents/haxcms-elements/lib/core/haxcms-site-editor-ui.js","@lrnwebcomponents/haxcms-elements/lib/core/haxcms-editor-builder.js","@lrnwebcomponents/haxcms-elements/lib/core/haxcms-site-editor.js","@lrnwebcomponents/haxcms-elements/lib/core/HAXCMSLitElementTheme.js","@lrnwebcomponents/haxcms-elements/lib/core/haxcms-site-builder.js","@lrnwebcomponents/haxcms-elements/lib/core/haxcms-site-router.js","@lrnwebcomponents/haxcms-elements/lib/core/haxcms-site-store.js","@lrnwebcomponents/h-a-x/h-a-x.js","mobx/dist/mobx.esm.js","@lrnwebcomponents/simple-fields/simple-fields.js","@lrnwebcomponents/grid-plate/grid-plate.js","@lrnwebcomponents/replace-tag/replace-tag.js","@lrnwebcomponents/wc-autoload/wc-autoload.js","@lrnwebcomponents/i18n-manager/lib/I18NMixin.js","@lrnwebcomponents/replace-tag/lib/PerformanceDetect.js","@lrnwebcomponents/simple-icon/lib/simple-icons.js","@lrnwebcomponents/simple-icon/lib/simple-icon-button-lite","@lrnwebcomponents/simple-tooltip/simple-tooltip.js","@lit-labs/motion","@lrnwebcomponents/simple-modal/simple-modal.js","@lrnwebcomponents/simple-datetime/simple-datetime.js","./lib/wired-darkmode-toggle/wired-darkmode-toggle","@lrnwebcomponents/simple-popover/lib/SimpleTourFinder.js","./lib/rpg-character-toast/rpg-character-toast","wired-elements/lib/wired-button.js","@lrnwebcomponents/simple-icon/lib/simple-icon-lite.js","@lrnwebcomponents/file-system-broker/lib/docx-file-system-broker.js","@lrnwebcomponents/file-system-broker/file-system-broker.js","scrollable-component/index.js","@lrnwebcomponents/micro-frontend-registry/micro-frontend-registry.js","@lrnwebcomponents/micro-frontend-registry/lib/microServices.js","@lrnwebcomponents/promise-progress/promise-progress.js","@lrnwebcomponents/hax-iconset/lib/simple-hax-iconset.js","@lrnwebcomponents/rpg-character/rpg-character.js","@lrnwebcomponents/jwt-login/jwt-login.js","@lrnwebcomponents/simple-colors-shared-styles/simple-colors-shared-styles.js","@lrnwebcomponents/simple-icon/lib/simple-iconset-manifest.js","@lrnwebcomponents/simple-popover/lib/simple-tour.js","@vaadin/router"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).AppHax={},e.$$2,e.lit,e.simpleColors_js,e.mobx,e.$$9,e.$$20,e.$$19,e.$$18,e.$$17,e.$$16,e.$$15,e.$$14,e.$$13,e.$$12,e.$$11,e.$$10,e.$$8,e.$$7,e.$$6,e.PerformanceDetect_js,null,null,null,e.motion,e.$$21,null,e.wiredDarkmodeToggle_js,e.SimpleTourFinder_js,e.rpgCharacterToast_js,null,null,e.$$3,e.$$4,null,e.microFrontendRegistry_js,e.microServices_js,null,null,null,null,e.simpleColorsSharedStyles_js,e.simpleIconsetManifest_js,e.simpleTour_js,e.router)}(this,(function(e,t,n,o,i,r,a,s,l,c,p,u,d,h,m,f,g,b,v,y,w,x,k,S,j,L,R,T,E,P,C,I,_,q,U,A,O,M,J,F,H,B,z,N,D){"use strict";function G(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var $,W,V=G(t),X=G(r),Y=G(a),K=G(s),Q=G(l),Z=G(c),ee=G(p),te=G(u),ne=G(d),oe=G(h),ie=G(m),re=G(f),ae=G(g),se=G(b),le=G(v),ce=G(y),pe=G(L),ue=G(_),de=G(q);function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){xe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fe(){fe=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var r=t&&t.prototype instanceof d?t:d,a=Object.create(r.prototype),s=new L(i||[]);return o(a,"_invoke",{value:x(e,n,s)}),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var u={};function d(){}function h(){}function m(){}var f={};l(f,r,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(R([])));b&&b!==t&&n.call(b,r)&&(f=b);var v=m.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(o,r,a,s){var l=p(e[o],e,r);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==typeof u&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return i("throw",e,a,s)}))}s(l.arg)}var r;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){i(e,n,t,o)}))}return r=r?r.then(o,o):o()}})}function x(e,t,n){var o="suspendedStart";return function(i,r){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw r;return T()}for(n.method=i,n.arg=r;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=p(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}function k(e,t){var n=t.method,o=e.iterator[n];if(void 0===o)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),u;var i=p(o,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,u;var r=i.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function R(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:T}}function T(){return{value:void 0,done:!0}}return h.prototype=m,o(v,"constructor",{value:m,configurable:!0}),o(m,"constructor",{value:h,configurable:!0}),h.displayName=l(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(w.prototype),l(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,o,i,r){void 0===r&&(r=Promise);var a=new w(c(t,n,o,i),r);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},y(v),l(v,s,"Generator"),l(v,r,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},e.values=R,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return a.type="throw",a.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i],a=r.completion;if("root"===r.tryLoc)return o("end");if(r.tryLoc<=this.prev){var s=n.call(r,"catchLoc"),l=n.call(r,"finallyLoc");if(s&&l){if(this.prev<r.catchLoc)return o(r.catchLoc,!0);if(this.prev<r.finallyLoc)return o(r.finallyLoc)}else if(s){if(this.prev<r.catchLoc)return o(r.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return o(r.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,u):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var i=o.arg;j(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:R(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function ge(e,t,n,o,i,r,a){try{var s=e[r](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(o,i)}function be(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var r=e.apply(t,n);function a(e){ge(r,o,i,a,s,"next",e)}function s(e){ge(r,o,i,a,s,"throw",e)}a(void 0)}))}}function ve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ye(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,Oe(o.key),o)}}function we(e,t,n){return t&&ye(e.prototype,t),n&&ye(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function xe(e,t,n){return(t=Oe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ke(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&je(e,t)}function Se(e){return Se=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Se(e)}function je(e,t){return je=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},je(e,t)}function Le(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Re(e,t,n){return Re=Le()?Reflect.construct.bind():function(e,t,n){var o=[null];o.push.apply(o,t);var i=new(Function.bind.apply(e,o));return n&&je(i,n.prototype),i},Re.apply(null,arguments)}function Te(e){var t="function"==typeof Map?new Map:void 0;return Te=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,o)}function o(){return Re(e,arguments,Se(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),je(o,e)},Te(e)}function Ee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pe(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ee(e)}function Ce(e){var t=Le();return function(){var n,o=Se(e);if(t){var i=Se(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return Pe(this,n)}}function Ie(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Se(e)););return e}function _e(){return _e="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var o=Ie(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},_e.apply(this,arguments)}function qe(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Ue(e){return function(e){if(Array.isArray(e))return Ae(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ae(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function Oe(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var Me,Je,Fe=function(e){ke(o,e);var t=Ce(o);function o(){var e;return ve(this,o),(e=t.call(this)).icon="account-circle",e.label="Default",e}return we(o,[{key:"render",value:function(){return n.html($||($=qe(['\n      <button class="menu-button" part="menu-button">\n        <simple-icon-lite class="icon" icon="','"></simple-icon-lite\n        >',"\n      </button>\n    "])),this.icon,this.label)}}],[{key:"tag",get:function(){return"app-hax-user-menu-button"}},{key:"properties",get:function(){return{icon:{type:String},label:{type:String}}}},{key:"styles",get:function(){return n.css(W||(W=qe(['\n      :host {\n        font-family: "Press Start 2P", sans-serif;\n        text-align: center;\n        width: 100%;\n        --background-color: var(--app-hax-background-color);\n        --accent-color: var(--app-hax-accent-color);\n      }\n\n      .menu-button {\n        display: block;\n        width: 100%;\n        border: 2px solid var(--accent-color);\n        margin: 0;\n        padding: 8px;\n        font-size: 16px;\n        text-align: left;\n        color: var(--accent-color);\n        background-color: var(--background-color);\n        cursor: pointer;\n      }\n\n      .menu-button:hover,\n      .menu-button:active,\n      .menu-button:focus {\n        background-color: var(--accent-color);\n        color: var(--background-color);\n      }\n\n      .icon {\n        padding-right: 16px;\n      }\n    '])))}}]),o}(n.LitElement);customElements.define(Fe.tag,Fe);var He=function(e){ke(o,e);var t=Ce(o);function o(){var e;return ve(this,o),(e=t.call(this)).isOpen=!1,e.icon="account-circle",e}return we(o,[{key:"toggleMenu",value:function(){this.isOpen=!this.isOpen}},{key:"render",value:function(){return n.html(Me||(Me=qe(['\n      <div class="entireComponent">\n        <div class="menuToggle" part="menuToggle" @click="','">\n          <slot name="menuButton"\n            ><simple-icon-lite icon="','"></simple-icon-lite\n          ></slot>\n        </div>\n\n        <div class="user-menu ','">\n          <div class="pre-menu">\n            <slot name="pre-menu"></slot>\n          </div>\n          <div class="main-menu">\n            <slot name="main-menu"></slot>\n          </div>\n          <div class="post-menu">\n            <slot name="post-menu"></slot>\n          </div>\n        </div>\n      </div>\n    '])),this.toggleMenu,this.icon,this.isOpen?"open":"")}}],[{key:"tag",get:function(){return"app-hax-user-menu"}},{key:"properties",get:function(){return{isOpen:{type:Boolean,reflect:!0,attribute:"is-open"},icon:{type:String,reflect:!0}}}},{key:"styles",get:function(){return n.css(Je||(Je=qe(['\n      :host {\n        font-family: "Press Start 2P", sans-serif;\n        text-align: center;\n        display: inline-block;\n        margin: 0px;\n        padding: 0px;\n      }\n\n      .menuToggle {\n        cursor: pointer;\n      }\n\n      .user-menu {\n        display: none;\n      }\n\n      .user-menu.open {\n        display: block;\n        top: 50px;\n        right: 0px;\n        position: absolute;\n        border: 1px solid var(--app-hax-accent-color);\n        background-color: var(--app-hax-background-color);\n      }\n\n      .user-menu.open ::slotted(*) {\n        display: block;\n        width: 100%;\n        margin: 0;\n        font-size: 16px;\n        text-align: left;\n        font-family: "Press Start 2P", sans-serif;\n        color: var(--app-hax-accent-color);\n        background-color: var(--app-hax-background-color);\n      }\n\n      .user-menu.open .main-menu ::slotted(*:hover),\n      .user-menu.open .main-menu ::slotted(*:active),\n      .user-menu.open .main-menu ::slotted(*:focus) {\n        background-color: var(--app-hax-background-color-active);\n        color: var(--app-hax-background-color);\n      }\n\n      .user-menu ::slotted(button) {\n        cursor: pointer;\n      }\n\n      .user-menu ::slotted(*) simple-icon-lite {\n        padding-right: 16px;\n      }\n    '])))}}]),o}(n.LitElement);customElements.define(He.tag,He),i.configure({enforceActions:!1,useProxies:"ifavailable"});var Be,ze,Ne,De,Ge,$e=function(){function e(){var t=this;ve(this,e),this.badDevice=null,this.evaluateBadDevice(),this.location=null,this.token=null,this.version="0.0.0",this.items=null,this.itemFiles=null,this.refreshSiteList=!0,this.createSiteSteps=!1,fetch(new URL("../../../haxcms-elements/package.json","undefined"==typeof document&&"undefined"==typeof location?new(require("url").URL)("file:"+__filename).href:"undefined"==typeof document?location.href:document.currentScript&&document.currentScript.src||new URL("app-hax.umd.js",document.baseURI).href)).then((function(e){return e.json()})).then((function(e){return t.version=e.version})),this.appSettings=window.appSettings||{},this.appSettings.jwt&&r.localStorageSet("jwt",this.appSettings.jwt),this.jwt=r.localStorageGet("jwt",null),this.AppHaxAPI={},this.newSitePromiseList=[function(){return Promise.resolve(ce)},function(){return Promise.resolve(le)},function(){return Promise.resolve(se)},function(){return Promise.resolve(X)},function(){return Promise.resolve(ae)},function(){return Promise.resolve(re)},function(){return Promise.resolve(ie)},function(){return Promise.resolve(oe)},function(){return Promise.resolve(ne)},function(){return Promise.resolve(te)},function(){return Promise.resolve(ee)},function(){return Promise.resolve(Z)},function(){return Promise.resolve(Q)},function(){return Promise.resolve(K)},function(){return Promise.resolve(Y)}],this.appEl=null,this.appReady=!1,this.soundStatus=r.localStorageGet("app-hax-soundStatus",!0),this.appMode="search",this.activeSiteOp=null,this.activeSiteId=null,this.baseRoutes=[{path:"createSite-step-1",component:"fake",step:1,name:"step-1",label:"New Journey",statement:"What sort of journey is it?",title:"Step 1: Create"},{path:"createSite-step-2",component:"fake",step:2,name:"step-2",label:"Structure",statement:"How is the :structure organized?",title:"Step 2: Structure"},{path:"createSite-step-3",component:"fake",step:3,name:"step-3",label:"Theme select",statement:"What your site feels like?",title:"Step 3: Theme"},{path:"createSite-step-4",component:"fake",step:4,name:"step-4",label:"Name",statement:"What do you want to call your site?",title:"Step 4: Name"},{path:"createSite-step-5",component:"fake",step:5,name:"step-5",label:"Building..",statement:"Getting your :structure ready to launch",title:"Step 5: Building site"},{path:"home",component:"fake",name:"home",label:"Welcome back",statement:"Let's go on a HAX Journey",title:"Home"},{path:"index.html",component:"fake",name:"home",label:"Welcome back",statement:"Let's go on a HAX Journey",title:"Home"},{path:"index.php",component:"fake",name:"home",label:"Welcome back",statement:"Let's go on a HAX Journey",title:"Home"},{path:"search",component:"fake",name:"search",label:"Search",statement:"Discover active adventures",title:"Search sites"},{path:"/",component:"fake",name:"welcome",label:"Welcome",statement:"Let's build something awesome!",title:"Home"},{path:"/(.*)",component:"fake",name:"404",label:"404 :[",statement:"it's not you.. it's me",title:"FoUr Oh FoUr"}],this.routes=this.baseRoutes,this.siteReady=!1,this.manifest={},this.searchTerm="",this.user={name:""},this.site=r.localStorageGet("app-hax-site")?r.localStorageGet("app-hax-site"):{structure:null,type:null,theme:null,name:null},this.step=this.stepTest(null),this.darkMode=!!r.localStorageGet("app-hax-darkMode")&&r.localStorageGet("app-hax-darkMode"),i.makeObservable(this,{location:i.observable.ref,routes:i.observable,appSettings:i.observable,appReady:i.observable,appMode:i.observable,createSiteSteps:i.observable,step:i.observable,site:i.observable,newSitePromiseList:i.observable,items:i.observable,itemFiles:i.observable,version:i.observable,jwt:i.observable,token:i.observable,manifest:i.observable,user:i.observable,searchTerm:i.observable,darkMode:i.observable,soundStatus:i.observable,activeItem:i.computed,isNewUser:i.computed,isLoggedIn:i.computed,badDevice:i.observable,activeSiteOp:i.observable,activeSiteId:i.observable,activeSite:i.computed,siteReady:i.observable,refreshSiteList:i.observable})}var t;return we(e,[{key:"setPageTitle",value:function(e){document.querySelector("title")&&(document.querySelector("title").innerText="HAX: ".concat(e))}},{key:"refreshSiteListing",value:function(){this.refreshSiteList=!1,this.refreshSiteList=!0}},{key:"activeSite",get:function(){var e=this;if(this.activeSiteId&&this.manifest&&this.manifest.items){var t=this.manifest.items.filter((function(t){return t.id===e.activeSiteId}));return 1===t.length?t.pop():null}}},{key:"evaluateBadDevice",value:(t=be(fe().mark((function e(){return fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.DeviceDetails.badDevice();case 2:this.badDevice=e.sent,!0===this.badDevice&&(this.soundStatus=!1);case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"stepTest",value:function(e){return null===this.site.structure&&1!==e?1:null!==this.site.structure&&null===this.site.type&&2!==e?2:null!==this.site.structure&&null!==this.site.type&&null===this.site.theme&&3!==e?3:null!==this.site.structure&&null!==this.site.type&&null!==this.site.theme&&null===this.site.name&&4!==e?4:null!==this.site.structure&&null!==this.site.type&&null!==this.site.theme&&null!==this.site.name?5:e}},{key:"isLoggedIn",get:function(){if(this.appReady&&this.AppHaxAPI)return"null"!==this.jwt&&this.jwt}},{key:"isNewUser",get:function(){if(this.manifest&&this.manifest.items)return 0===this.manifest.items.length}},{key:"activeItem",get:function(){var e=this;if(this.routes.length>0&&this.location&&this.location.route)return this.createSiteSteps?this.routes.find((function(t){return void 0!==t.step&&t.step===e.step})):this.location.route}},{key:"toast",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};window.dispatchEvent(new CustomEvent("app-hax-toast-show",{bubbles:!0,cancelable:!0,composed:!0,detail:me({text:e,duration:t},n)}))}}]),e}(),We=new $e,Ve=new URL("../assets/images/DropDownBorder.svg","undefined"==typeof document&&"undefined"==typeof location?new(require("url").URL)("file:"+__filename).href:"undefined"==typeof document?location.href:document.currentScript&&document.currentScript.src||new URL("app-hax.umd.js",document.baseURI).href),Xe=function(e){ke(o,e);var t=Ce(o);function o(){var e;return ve(this,o),(e=t.call(this)).icon="link",e.opened=!1,e.inprogress=!1,e.iconLink="/",e.textInfo={},e.siteId="",e}return we(o,[{key:"updated",value:function(e){var t=this;_e(Se(o.prototype),"updated",this)&&_e(Se(o.prototype),"updated",this).call(this,e),e.forEach((function(e,n){"opened"===n&&void 0!==e&&t.dispatchEvent(new CustomEvent("".concat(n,"-changed"),{detail:{value:t[n]}}))}))}},{key:"__clickButton",value:function(){this.opened=!this.opened}},{key:"render",value:function(){return n.html(Be||(Be=qe(['\n      <div id="mainCard">\n        <a href="','" tabindex="-1" id="icon">\n          <simple-icon-button-lite\n            icon="','"\n          ></simple-icon-button-lite>\n        </a>\n        <div id="labels">\n          <slot name="heading"></slot>\n        </div>\n        <simple-icon-button-lite\n          icon="more-vert"\n          id="dots"\n          @click=','\n        ></simple-icon-button-lite>\n      </div>\n      <div id="band-container" ','>\n        <slot name="band"></slot>\n      </div>\n      <simple-tooltip for="icon" position="left">Access site</simple-tooltip>\n      <simple-tooltip for="dots" position="right">More options</simple-tooltip>\n    '])),this.iconLink,this.icon,this.__clickButton,j.animate())}}],[{key:"tag",get:function(){return"app-hax-site-bar"}},{key:"properties",get:function(){return me(me({},_e(Se(o),"properties",this)),{},{opened:{type:Boolean,reflect:!0},icon:{type:String},inprogress:{type:Boolean,reflect:!0},iconLink:{type:String,attribute:"icon-link"},textInfo:{type:Object},siteId:{type:String,reflect:!0,attribute:"site-id"}})}},{key:"styles",get:function(){return[].concat(Ue(_e(Se(o),"styles",this)),[n.css(ze||(ze=qe(['\n        :host {\n          --main-banner-width: 513px;\n          --main-banner-height: 60px;\n          --band-banner-height: 208px;\n          display: inline-block;\n          background-color: var(--simple-colors-default-theme-accent-3);\n          color: var(--simple-colors-default-theme-grey-12);\n          border-color: var(--simple-colors-default-theme-accent-4);\n          border-style: solid;\n          border-width: 5px 10px 5px 10px;\n        }\n\n        #labels {\n          display: block;\n          text-overflow: ellipsis;\n          overflow: hidden;\n          white-space: nowrap;\n        }\n        #labels ::slotted(*) {\n          font-family: "Press Start 2P", sans-serif;\n          font-size: 25px;\n        }\n        #labels ::slotted(a) {\n          color: var(--simple-colors-default-theme-accent-11);\n          padding: 8px 0;\n          display: block;\n        }\n        #labels ::slotted(a:focus),\n        #labels ::slotted(a:hover) {\n          color: var(--simple-colors-default-theme-accent-3);\n          background-color: var(--simple-colors-default-theme-accent-11);\n        }\n\n        :host([opened]) {\n          background-color: var(--simple-colors-default-theme-accent-3);\n        }\n        #mainCard {\n          display: flex;\n          flex-direction: row;\n          justify-content: space-between;\n          align-items: center;\n          width: var(--main-banner-width);\n          height: var(--main-banner-height);\n          padding: 2px 4px;\n        }\n\n        #band-container {\n          display: block;\n          visibility: hidden;\n          height: 1px;\n          width: var(--main-banner-width);\n        }\n\n        :host([opened]) #band-container {\n          height: var(--band-banner-height);\n          visibility: visible;\n        }\n        a {\n          flex: 1;\n        }\n        #labels {\n          flex: 6;\n          overflow: hidden;\n          text-overflow: ellipsis;\n        }\n        #icon {\n          --simple-icon-width: 49px;\n          --simple-icon-height: 49px;\n          color: var(--simple-colors-default-theme-accent-11);\n        }\n        #icon:hover,\n        #icon:focus,\n        #icon:active {\n          color: var(--simple-colors-default-theme-accent-3);\n          background-color: var(--simple-colors-default-theme-accent-11);\n        }\n        #dots {\n          --simple-icon-width: 49px;\n          --simple-icon-height: 49px;\n          color: var(--simple-colors-default-theme-grey-12);\n          background-image: url(',");\n          background-repeat: no-repeat;\n          background-position: center;\n        }\n      "])),n.unsafeCSS(Ve))])}}]),o}(o.SimpleColors);customElements.define(Xe.tag,Xe);var Ye,Ke,Qe,Ze,et,tt=function(e){ke(r,e);var t,o=Ce(r);function r(){var e;return ve(this,r),(e=o.call(this)).need="all need to succeed",e.details={},e.siteId="",e.detailOps=[{name:"Copy",op:"copySite",icon:"icons:content-copy"},{name:"Download",op:"downloadSite",icon:"file-download"},{name:"Archive",op:"archiveSite",icon:"icons:archive"},{name:"Git",op:"gitList",icon:"hax:git"}],e}return we(r,[{key:"siteOperation",value:function(e){var t=this;We.appEl.playSound("click");var n=e.target;"DIV"===n.tagName&&(n=n.parentNode);var o=document.createElement("div"),r=n.getAttribute("data-site-operation"),a=n.getAttribute("data-site-operation-name"),s=n.getAttribute("data-site");We.activeSiteOp=r,We.activeSiteId=s,Promise.resolve(pe).then((function(){setTimeout((function(){var e=i.toJS(We.manifest.items.filter((function(e){return e.id===s})).pop());if(o.appendChild(document.createTextNode("Are you sure you want to ".concat(r.replace("Site","")," ").concat(e.metadata.site.name,"?"))),"gitList"===r)window.open("gitlist/".concat(e.metadata.site.name),"_blank","noopener noreferrer");else{var l=document.createElement("div"),c=document.createElement("button");c.innerText="Confirm",c.classList.add("hax-modal-btn"),c.addEventListener("click",t.confirmOperation.bind(t)),l.appendChild(c);var p=document.createElement("button");p.innerText="Cancel",p.classList.add("hax-modal-btn"),p.classList.add("cancel"),p.addEventListener("click",t.cancelOperation.bind(t)),l.appendChild(p),t.dispatchEvent(new CustomEvent("simple-modal-show",{bubbles:!0,cancelable:!0,composed:!0,detail:{title:"".concat(a," ").concat(e.metadata.site.name,"?"),elements:{content:o,buttons:l},invokedBy:n,styles:{"--simple-modal-titlebar-background":"orange","--simple-modal-titlebar-color":"black","--simple-modal-width":"30vw","--simple-modal-min-width":"300px","--simple-modal-z-index":"100000000","--simple-modal-height":"20vh","--simple-modal-min-height":"300px","--simple-modal-titlebar-height":"80px"}}}))}}),0)}))}},{key:"cancelOperation",value:function(){We.activeSiteOp="",We.activeSiteId=null,window.dispatchEvent(new CustomEvent("simple-modal-hide")),We.appEl.playSound("error")}},{key:"confirmOperation",value:(t=be(fe().mark((function e(){var t,n;return fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.toJS(We.activeSiteOp),n=i.toJS(We.activeSite),e.next=4,We.AppHaxAPI.makeCall(t,{site:{name:n.metadata.site.name,id:n.id}},!0,(function(){"downloadSite"===i.toJS(We.activeSiteOp)?window.open(We.AppHaxAPI.lastResponse.downloadSite.data.link,"_blank"):We.refreshSiteListing()}));case 4:window.dispatchEvent(new CustomEvent("simple-modal-hide")),We.appEl.playSound("success"),We.toast("".concat(n.metadata.site.name," ").concat(t.replace("Site","")," successful!"),3e3,{hat:"random"});case 7:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this;return n.html(Ne||(Ne=qe(['\n      <div class="pre"><slot name="pre"></slot></div>\n      <div class="flex-container" id="infomation">\n          <div class="info-group">\n            <div class="info-headings">created</div>\n            <simple-datetime\n                format="m/j/y"\n                .timestamp="','"\n                unix\n                class="info-date"\n            ></simple-datetime>\n          </div>\n          <div class="info-group">\n            <div class="info-headings">updated</div>\n            <simple-datetime\n                format="m/j/y"\n                .timestamp="','"\n                unix\n                class="info-date"\n            ></simple-datetime>\n          </div>\n          <div class = info-group>\n            <div class="info-headings">pages</div>\n            <div class="info-item">','</div>\n          </div>\n          <div class = info-group>\n            <div class="info-headings">URL</div>\n            <a href="','" class="info-item" id="slug">','</a>\n          </div>\n      </div>\n        <div class="flex-container" id="actions">\n          ',"\n        </div>\n      </div>\n    "])),this.details.created,this.details.updated,this.details.pages,this.details.url,function(e){var t="site";if(e){var n=e.split("sites/");n.length>1&&(t=n.pop().replace("/",""))}return t}(this.details.url),this.detailOps.map((function(t){return n.html(De||(De=qe(['\n              <div class="info-group">\n                <simple-icon-button-lite\n                  data-site="','"\n                  data-site-operation="','"\n                  data-site-operation-name="','"\n                  icon="','"\n                  id="op-','"\n                  class="info-icon"\n                  @click=','\n                >\n                  <div class="info-item">','</div>\n                </simple-icon-button-lite>\n                <simple-tooltip for="op-','" position="bottom"\n                  >'," ","\n                  ","</simple-tooltip\n                >\n              </div>\n            "])),e.siteId,t.op,t.name,t.icon,t.op,e.siteOperation,t.name.toLowerCase(),t.op,"gitList"!=t.op?"":"View",t.name,"gitList"!=t.op?"Site":"source")})))}}],[{key:"tag",get:function(){return"app-hax-site-details"}},{key:"properties",get:function(){return me(me({},_e(Se(r),"properties",this)),{},{details:{type:Object},siteId:{type:String,attribute:"site-id"}})}},{key:"styles",get:function(){return[].concat(Ue(_e(Se(r),"styles",this)),[n.css(Ge||(Ge=qe(['\n        :host {\n          display: flex;\n          flex-direction: column;\n          justify-content: center;\n          font-size: 12px;\n          align-items: stretch;\n          background-color: var(--simple-colors-default-theme-grey-2);\n          height: 208px;\n        }\n\n        .flex-container {\n          flex: 1;\n          background-color: var(--simple-colors-default-theme-grey-2);\n          margin: 8px;\n          display: flex;\n          flex-direction: row;\n          justify-content: space-around;\n          align-items: center;\n        }\n        .info-group {\n          height: 100%;\n          max-width: 25%;\n          display: flex;\n          flex-direction: column;\n          justify-content: space-around;\n          align-items: center;\n          padding: 0px;\n          flex: 1;\n        }\n        simple-icon-button-lite:active,\n        simple-icon-button-lite:hover,\n        simple-icon-button-lite:focus {\n          background-color: var(--simple-colors-default-theme-grey-4, #eeeeee);\n          outline: 2px solid var(--simple-colors-default-theme-grey-12);\n          outline-offset: 1px;\n        }\n\n        .info-headings {\n          font-size: 12px;\n        }\n        .info-item {\n          font-family: "Press Start 2P", sans-serif;\n          display: block;\n          text-overflow: ellipsis;\n          overflow: hidden;\n          color: var(--simple-colors-default-theme-grey-12);\n          line-height: 12px;\n          max-width: 100%;\n          font-size: 12px;\n        }\n        .pre ::slotted(*) {\n          padding: 12px;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          max-width: 50%;\n          display: inline-flex;\n        }\n        a {\n          text-decoration: underline;\n        }\n        .info-date {\n          color: var(--simple-colors-default-theme-grey-12);\n          line-height: 12px;\n          font-size: 12px;\n        }\n\n        .info-icon {\n          --simple-icon-width: 49px;\n          --simple-icon-height: 49px;\n          --simple-icon-button-border-radius: 0px;\n          --simple-icon-button-border: 0px;\n          outline: 0;\n          border: 2px solid var(--simple-colors-default-theme-grey-12);\n          border-radius: 4px;\n          padding: 4px;\n          width: 80%;\n        }\n        .info-icon::part(button) {\n          outline: none;\n        }\n        @media (max-width: 500px) {\n          .btn-group button {\n            padding: 4px;\n            margin: 4px 0;\n          }\n          .flex-container > div {\n            margin: 0px;\n          }\n        }\n      '])))])}}]),r}(o.SimpleColors);customElements.define(tt.tag,tt);var nt,ot,it=function(e){ke(o,e);var t=Ce(o);function o(){var e;return ve(this,o),(e=t.call(this)).searchItems=[],e.displayItems=[],e.searchTerm="",e.dark=!1,i.autorun((function(){e.searchTerm=i.toJS(We.searchTerm)})),i.autorun((function(){e.dark=i.toJS(We.darkMode)})),i.autorun((function(){var t=i.toJS(We.manifest);t&&t.items&&(e.searchItems=t.items,e.displayItems=Ue(e.searchItems))})),e}return we(o,[{key:"updated",value:function(e){var t=this;_e(Se(o.prototype),"updated",this)&&_e(Se(o.prototype),"updated",this).call(this,e),e.forEach((function(e,n){"searchTerm"===n&&(t.displayItems=t.searchItems.filter((function(e){return!!(e.title.toLowerCase().includes(t.searchTerm.toLowerCase())||e.description.toLowerCase().includes(t.searchTerm.toLowerCase())||e.author.toLowerCase().includes(t.searchTerm.toLowerCase())||e.slug.toLowerCase().includes(t.searchTerm.toLowerCase()))})))}))}},{key:"render",value:function(){var e=this;return n.html(Ye||(Ye=qe(['\n      <ul id="results">\n        ',"\n      </ul>\n    "])),this.displayItems.length>0?this.displayItems.map((function(t){return n.html(Ke||(Ke=qe([' <li>\n                  <app-hax-site-bar\n                    @opened-changed="','"\n                    ?dark="','"\n                    accent-color="','"\n                    icon-link="','"\n                    icon="','"\n                  >\n                    <a href="','" slot="heading">','</a>\n                    <span slot="subHeading">','</span>\n                    <app-hax-site-details\n                      slot="band"\n                      .details="','"\n                      site-id="','"\n                    >\n                      <div class="description" slot="pre">\n                        ',"\n                      </div>\n                    </app-hax-site-details>\n                  </app-hax-site-bar>\n                </li>"])),e.openedChanged,e.dark,r.varGet(t,"metadata.theme.variables.cssVariable","orange").replace("--simple-colors-default-theme-","").replace("-7",""),t.slug,r.varGet(t,"metadata.theme.variables.icon","link"),t.slug,t.title,t.author,e.getItemDetails(t),t.id,t.description)})):n.html(Qe||(Qe=qe(['<div id="noResult">\n              No results for\n              ',".\n            </div>"])),""!==this.searchTerm?n.html(Ze||(Ze=qe(['<strong>"','"</strong>'])),this.searchTerm):"your account, try starting a new journey!"))}},{key:"getItemDetails",value:function(e){return{created:r.varGet(e,"metadata.site.created",new Date/1e3),updated:r.varGet(e,"metadata.site.updated",new Date/1e3),pages:r.varGet(e,"metadata.pageCount",0),url:e.slug}}},{key:"openedChanged",value:function(e){We.appEl.playSound("click"),e.detail.value?this.shadowRoot.querySelector("app-hax-site-details").removeAttribute("tabindex"):this.shadowRoot.querySelector("app-hax-site-details").setAttribute("tabindex","-1")}}],[{key:"tag",get:function(){return"app-hax-search-results"}},{key:"properties",get:function(){return me(me({},_e(Se(o),"properties",this)),{},{searchTerm:{type:String,reflect:!0},searchItems:{type:Array},displayItems:{type:Array}})}},{key:"styles",get:function(){return[].concat(Ue(_e(Se(o),"styles",this)),[n.css(et||(et=qe(['\n        :host {\n          overflow: hidden;\n        }\n        ul,\n        li {\n          margin: 0;\n          padding: 0;\n          list-style: none;\n        }\n        app-hax-site-bar {\n          margin: 8px 0;\n        }\n        .description {\n          max-height: 64px;\n          overflow: hidden;\n          text-overflow: ellipsis;\n        }\n\n        @media (max-width: 800px) {\n          app-hax-site-bar {\n            --main-banner-width: 60vw;\n          }\n        }\n        @media (max-width: 400px) {\n          app-hax-site-bar {\n            --main-banner-width: 90vw;\n          }\n        }\n        span[slot="band"] {\n          height: 48px;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          margin-bottom: 8px;\n        }\n        :host([dark]) #noResult {\n          color: var(--simple-colors-default-theme-grey-12, black);\n        }\n      '])))])}}]),o}(o.SimpleColors);customElements.define(it.tag,it);var rt,at=function(e){ke(o,e);var t=Ce(o);function o(){var e;return ve(this,o),(e=t.call(this)).searchTerm="",e.disabled=!1,e.showSearch=!1,e}return we(o,[{key:"updated",value:function(e){var t=this;e.forEach((function(e,n){"searchItems"===n?t.displayItems=Ue(t.searchItems):"searchTerm"===n?We.searchTerm=t.searchTerm:"showSearch"===n&&void 0!==e&&!1===t[n]&&(t.searchTerm="")}))}},{key:"search",value:function(){We.appEl.playSound("click"),this.searchTerm=this.shadowRoot.querySelector("#searchField").value}},{key:"render",value:function(){return n.html(nt||(nt=qe(['\n      <simple-icon-button-lite\n        id="searchico"\n        ?disabled="','"\n        label="Search"\n        icon="icons:search"\n        @click="','"\n      ></simple-icon-button-lite>\n      <simple-tooltip for="searchico" position="bottom"\n        >Toggle Search</simple-tooltip\n      >\n      <input\n        ?disabled="','"\n        id="searchField"\n        @input="','"\n        type="text"\n        placeholder="Search.."\n      />\n    '])),this.disabled,this.toggleSearch,!this.showSearch,this.search)}},{key:"toggleSearch",value:function(){var e=this;this.disabled||(this.shadowRoot.querySelector("#searchField").value="",We.appEl.playSound("click"),this.showSearch=!this.showSearch,setTimeout((function(){e.shadowRoot.querySelector("#searchField").focus()}),300))}}],[{key:"tag",get:function(){return"app-hax-search-bar"}},{key:"properties",get:function(){return{searchTerm:{type:String},showSearch:{type:Boolean,reflect:!0,attribute:"show-search"},disabled:{type:Boolean,reflect:!0}}}},{key:"styles",get:function(){return[n.css(ot||(ot=qe(['\n        :host {\n          overflow: hidden;\n        }\n        input {\n          visibility: none;\n          opacity: 0;\n          width: 0;\n          transition: all ease-in-out 0.3s;\n          padding: 4px;\n          font-family: "Press Start 2P", sans-serif;\n          font-size: 20px;\n          margin: 2px 0 0 16px;\n        }\n        :host([show-search]) input {\n          visibility: visible;\n          opacity: 1;\n          width: 250px;\n          max-width: 25vw;\n        }\n        @media (max-width: 780px) {\n          :host([show-search]) input {\n            width: 250px;\n            max-width: 20vw;\n          }\n        }\n        @media (max-width: 600px) {\n          :host([show-search]) input {\n            width: 200px;\n            max-width: 20vw;\n          }\n        }\n        simple-icon-button-lite {\n          color: black;\n          --simple-icon-width: 40px;\n          --simple-icon-height: 40px;\n          padding: 2px;\n          margin: 0;\n          background-color: white;\n        }\n        simple-icon-button-lite[disabled] {\n          background-color: #cccccc;\n          pointer-events: none;\n          cursor: help;\n        }\n        simple-icon-button-lite:focus,\n        simple-icon-button-lite:hover {\n          background-color: #eeeeee;\n        }\n      '])))]}}]),o}(n.LitElement);customElements.define(at.tag,at);var st=function(e){ke(o,e);var t=Ce(o);function o(){var e;return ve(this,o),(e=t.call(this)).tourName="hax",i.autorun((function(){e.checked=i.toJS(We.darkMode)})),e}return we(o,[{key:"updated",value:function(e){var t=this;_e(Se(o.prototype),"updated",this)&&_e(Se(o.prototype),"updated",this).call(this,e),e.forEach((function(e,n){"checked"===n&&void 0!==e&&(We.darkMode=t[n],We.appEl.playSound("click"))}))}},{key:"render",value:function(){return n.html(rt||(rt=qe(['\n      <div\n        data-simple-tour-stop\n        data-stop-title="data-label"\n        data-label="','"\n      >\n        ','\n        <div data-stop-content style="display:none;">\n          You can toggle your user interface between "light" and "dark" for you\n          viewing enjoyment.\n        </div>\n      </div>\n    '])),this.label,_e(Se(o.prototype),"render",this).call(this))}}],[{key:"tag",get:function(){return"app-hax-wired-toggle"}}]),o}(E.SimpleTourFinder(T.WiredDarkmodeToggle));customElements.define(st.tag,st);var lt,ct,pt,ut=function(e){ke(n,e);var t=Ce(n);function n(){var e;return ve(this,n),(e=t.call(this)).windowControllers=new AbortController,i.autorun((function(){e.userName=i.toJS(We.user.name)})),i.autorun((function(){e.darkMode=i.toJS(We.darkMode)})),e}return we(n,[{key:"connectedCallback",value:function(){_e(Se(n.prototype),"connectedCallback",this).call(this),window.addEventListener("app-hax-toast-hide",this.hideSimpleToast.bind(this),{signal:this.windowControllers.signal}),window.addEventListener("app-hax-toast-show",this.showSimpleToast.bind(this),{signal:this.windowControllers.signal})}},{key:"disconnectedCallback",value:function(){this.windowControllers.abort(),_e(Se(n.prototype),"disconnectedCallback",this).call(this)}}],[{key:"tag",get:function(){return"app-hax-toast"}}]),n}(P.RPGCharacterToast);customElements.define(ut.tag,ut),window.AppHaxToast=window.AppHaxToast||{},window.AppHaxToast.requestAvailability=function(){return window.AppHaxToast.instance||(window.AppHaxToast.instance=document.createElement(ut.tag),document.body.appendChild(window.AppHaxToast.instance)),window.AppHaxToast.instance},window.AppHaxToast.requestAvailability();var dt,ht,mt=new URL("../assets/images/PostIt.svg","undefined"==typeof document&&"undefined"==typeof location?new(require("url").URL)("file:"+__filename).href:"undefined"==typeof document?location.href:document.currentScript&&document.currentScript.src||new URL("app-hax.umd.js",document.baseURI).href).href,ft=function(e){ke(o,e);var t=Ce(o);function o(){var e;return ve(this,o),(e=t.call(this)).label=null,e.value=null,e.disabled=!1,e.elevation="3",e.active=!1,e.comingSoon=!1,e.addEventListener("click",e._handleClick),e.addEventListener("focus",e._handleFocus),e.addEventListener("blur",e._handleBlur),e.addEventListener("mouseover",e._handleFocus),e.addEventListener("mouseout",e._handleBlur),e}return we(o,[{key:"_handleFocus",value:function(){this.disabled||this.comingSoon||(this.active=!0,this.elevation="5")}},{key:"_handleBlur",value:function(){this.disabled||this.comingSoon||(this.active=!1,this.elevation="3")}},{key:"_handleClick",value:function(){this.disabled||this.comingSoon||this.shadowRoot.querySelector(".haxButton").blur()}},{key:"render",value:function(){return n.html(lt||(lt=qe(["\n      <wired-button\n        elevation=","\n        ?disabled=",'\n        class="haxButton"\n        @click="','"\n      >\n        <div class="contents">\n          <span class="label"> '," </span>\n          ","\n        </div>\n      </wired-button>\n    "])),this.elevation,this.disabled||this.comingSoon,this._handleClick,this.label,this.comingSoon?n.html(ct||(ct=qe(['<img\n                src="','"\n                loading="lazy"\n                decoding="async"\n                fetchpriority="low"\n                alt="Feature coming soon"\n                class="coming-soon"\n              />'])),mt):"")}}],[{key:"tag",get:function(){return"app-hax-site-button"}},{key:"properties",get:function(){return{label:{type:String},value:{type:String},disabled:{type:Boolean,reflect:!0},elevation:{type:Number},active:{type:Boolean,reflect:!0},comingSoon:{type:Boolean,reflect:!0,attribute:"coming-soon"}}}},{key:"styles",get:function(){return n.css(pt||(pt=qe(['\n      :host {\n        --background-color: transparent;\n        --background-color-active: white;\n        display: flex;\n        flex-direction: row;\n        justify-content: space-between;\n        align-items: center;\n        font-family: "Press Start 2P", sans-serif;\n        width: fit-content;\n        margin: 20px 0;\n      }\n      :host([coming-soon]) .haxButton {\n        pointer-events: none;\n        background-color: var(--simple-colors-default-theme-grey-6);\n      }\n      @media (max-width: 800px) {\n        :host {\n          width: 320px;\n        }\n      }\n      :host([active]) .haxButton {\n        color: var(--app-hax-background-color, var(--background-color-active));\n        background-color: var(--app-hax-accent-color, var(--accent-color));\n      }\n      .haxButton {\n        background-color: var(\n          --app-hax-background-color,\n          var(--background-color)\n        );\n        color: var(--app-hax-accent-color, var(--accent-color));\n        font-size: var(--app-hax-site-button-font-size, 26px);\n      }\n      .contents {\n        display: flex;\n        justify-content: right;\n      }\n      .label {\n        width: var(--app-hax-site-button-width, auto);\n        min-width: var(--app-hax-site-button-min-width, auto);\n        height: var(--app-hax-site-button-height, auto);\n        display: inline-flex;\n      }\n      .coming-soon {\n        display: block;\n        height: 114px;\n        width: 140px;\n        z-index: 1;\n        position: absolute;\n        margin-right: -54px;\n        margin-top: -10px;\n      }\n    '])))}}]),o}(o.SimpleColors);customElements.define(ft.tag,ft);var gt,bt,vt,yt,wt=function(e){ke(o,e);var t=Ce(o);function o(){var e;return ve(this,o),(e=t.call(this)).promises=[],e.max=100,i.autorun((function(){e.promises=i.toJS(We.newSitePromiseList)})),i.autorun((function(){e.dark=i.toJS(We.darkMode)})),e}return we(o,[{key:"process",value:function(){this.shadowRoot.querySelector("#progress2").process()}},{key:"firstUpdated",value:function(e){var t=this;_e(Se(o.prototype),"firstUpdated",this)&&_e(Se(o.prototype),"firstUpdated",this).call(this,e),this.dispatchEvent(new CustomEvent("progress-ready",{detail:!0})),setTimeout((function(){t.shadowRoot.querySelector("#progress2").addEventListener("value-changed",(function(e){t.shadowRoot.querySelector("#value").textContent=e.detail.value})),t.shadowRoot.querySelector("#progress2").addEventListener("max-changed",(function(e){t.max=e.detail.value})),t.shadowRoot.querySelector("#progress2").addEventListener("promise-progress-finished",(function(e){if(e.detail.value){t.shadowRoot.querySelector(".game")&&t.shadowRoot.querySelector(".game").remove();var n=We.AppHaxAPI.lastResponse.createSite.data,o=document.createElement("button");t.shadowRoot.querySelector("#value").textContent=t.max,o.textContent="Let's go!",o.classList.add("game"),o.addEventListener("pointerdown",(function(){We.appEl.playSound("click")})),o.addEventListener("click",(function(){We.appEl.reset(),setTimeout((function(){window.location=n.slug.replace("index.html","")}),0)})),t.shadowRoot.querySelector("#progress2").parentNode.appendChild(o),We.toast("".concat(n.title?n.title:""," ready!"),1500,{hat:"random"}),We.setPageTitle("".concat(n.title?n.title:""," ready!")),setTimeout((function(){We.toast("redirecting in 3..",1e4,{hat:"random",walking:!0}),We.setPageTitle("Redirecting in 3.."),setTimeout((function(){We.toast("redirecting in 2..",1e4,{hat:"random",walking:!0}),We.setPageTitle("Redirecting in 2.."),setTimeout((function(){We.toast("redirecting in 1..",1e4,{hat:"random",walking:!0}),We.setPageTitle("Redirecting in 1.."),We.appEl.reset(),setTimeout((function(){We.setPageTitle("Enjoy!"),window.location=n.slug.replace("index.html","")}),1e3)}),1e3)}),1e3)}),1800),t.dispatchEvent(new CustomEvent("promise-progress-finished",{composed:!0,bubbles:!0,cancelable:!0,detail:!0}))}}))}),0)}},{key:"render",value:function(){return n.html(dt||(dt=qe(['\n      <img\n        src="','"\n        alt=""\n      />\n      <promise-progress\n        id="progress2"\n        accent-color="red"\n        ?dark="','"\n        class="progress"\n        .list=','\n      ></promise-progress>\n      <div class="count"><span id="value">0</span>%</div>\n    '])),new URL("../assets/images/HatBlank.svg","undefined"==typeof document&&"undefined"==typeof location?new(require("url").URL)("file:"+__filename).href:"undefined"==typeof document?location.href:document.currentScript&&document.currentScript.src||new URL("app-hax.umd.js",document.baseURI).href).href,this.dark,this.promises)}}],[{key:"tag",get:function(){return"app-hax-hat-progress"}},{key:"properties",get:function(){return me(me({},_e(Se(o),"properties",this)),{},{promises:{type:Array}})}},{key:"styles",get:function(){return[].concat(Ue(_e(Se(o),"styles",this)),[n.css(ht||(ht=qe(['\n        :host {\n          display: block;\n          height: 400px;\n          width: 400px;\n        }\n        img {\n          width: 400px;\n          height: 400px;\n          pointer-events: none;\n        }\n        .progress {\n          margin: -148px 0 0 10px;\n          z-index: -1;\n        }\n        .progress::part(progress) {\n          height: 100px;\n          width: 338px;\n          margin-top: -1px 0 0 -4px;\n        }\n\n        .progress::part(progress)::-moz-progress-bar {\n          background-color: red;\n          height: 50px;\n          margin: 24px 0 0 0;\n          border: none;\n        }\n\n        .count {\n          color: var(--simple-colors-default-theme-grey-1, white);\n          font-family: "Press Start 2P", sans-serif;\n          width: 350px;\n          text-align: center;\n          position: relative;\n          display: block;\n          font-size: 30px;\n          margin-top: -250px;\n          margin-left: 30px;\n        }\n        .game {\n          font-family: "Press Start 2P", sans-serif;\n          font-size: 28px;\n          font-weight: bold;\n          text-align: center;\n          width: 310px;\n          background-color: var(--simple-colors-default-theme-red-7, red);\n          color: var(--simple-colors-default-theme-grey-1, white);\n          border: 0px;\n          height: 54px;\n          display: block;\n          position: relative;\n          margin: 138px 0px 0px 52px;\n          padding: 0;\n          box-sizing: border-box;\n        }\n        .game:focus,\n        .game:hover {\n          cursor: pointer;\n          background-color: var(--simple-colors-default-theme-red-8);\n          color: var(--simple-colors-default-theme-grey-2);\n        }\n        .game:active {\n          cursor: progress;\n          background-color: var(--simple-colors-default-theme-red-10);\n          color: var(--simple-colors-default-theme-grey-5);\n        }\n      '])))])}}]),o}(o.SimpleColors);customElements.define(wt.tag,wt);var xt,kt,St,jt,Lt,Rt,Tt,Et,Pt,Ct,It,_t=new URL("../assets/images/PostIt.svg","undefined"==typeof document&&"undefined"==typeof location?new(require("url").URL)("file:"+__filename).href:"undefined"==typeof document?location.href:document.currentScript&&document.currentScript.src||new URL("app-hax.umd.js",document.baseURI).href).href,qt=new URL("../assets/images/BetaPostIt.svg","undefined"==typeof document&&"undefined"==typeof location?new(require("url").URL)("file:"+__filename).href:"undefined"==typeof document?location.href:document.currentScript&&document.currentScript.src||new URL("app-hax.umd.js",document.baseURI).href).href,Ut=function(e){ke(o,e);var t=Ce(o);function o(){var e;return ve(this,o),(e=t.call(this)).icon="save",e.type=null,e.value=null,e.disabled=!1,e.elevation=2,e.active=!1,e.comingSoon=!1,e.prompt=null,e.callback=null,e.param=null,e.beta=!1,e.addEventListener("click",e._handleClick),e.addEventListener("click",e._handleClick),e.addEventListener("focus",e._handleFocus),e.addEventListener("blur",e._handleBlur),e.addEventListener("mouseover",e._handleFocus),e.addEventListener("mouseout",e._handleBlur),e}return we(o,[{key:"_handleFocus",value:function(){this.disabled||this.comingSoon||(this.active=!0,this.elevation="4")}},{key:"_handleBlur",value:function(){this.disabled||this.comingSoon||(this.active=!1,this.elevation="2")}},{key:"_handleClick",value:function(){this.disabled||this.comingSoon||this.shadowRoot.querySelector(".haxButton").blur()}},{key:"firstUpdated",value:function(e){var t=this;_e(Se(o.prototype),"firstUpdated",this)&&_e(Se(o.prototype),"firstUpdated",this).call(this,e),e.forEach((function(e,n){if("type"===n)switch(t.type){case"technology":t.icon="hardware:desktop-mac",t.value="technology";break;case"business":t.icon="maps:local-atm",t.value="business";break;case"art":t.icon="image:palette",t.value="art";break;case"6w":t.icon="hax:messages-6",t.value="6 Week";break;case"15w":t.icon="social:school",t.value="15 Week";break;case"training":t.icon="hax:bricks",t.value="Training";break;case"docx import":case"docx":t.icon="hax:file-docx",t.value="docx";break;case"evolution":t.icon="communication:business",t.value="evo";break;case"pressbooks":t.icon="hax:wordpress",t.value="pressbooks";break;case"gitbook":t.icon="mdi-social:github-circle",t.value="gitbook";break;case"elms:ln":t.icon="lrn:network",t.value="elmsln";break;case"haxcms":t.icon="hax:hax2022",t.value="haxcms";break;case"notion":t.icon="book",t.value="notion";break;case"Blog":t.icon="social:public",t.value="Blog";break;default:t.icon="image:photo-filter",t.value="own",t.type="Create Your Own"}}))}},{key:"render",value:function(){return n.html(gt||(gt=qe(["\n      <wired-button\n        elevation=","\n        ?disabled=",'\n        class="haxButton"\n      >\n        <div id="container">\n          <simple-icon-lite icon=','> </simple-icon-lite>\n          <div class="type">',"</div>\n        </div>\n        ","\n        ","\n      </wired-button>\n    "])),this.elevation,this.disabled||this.comingSoon,this.icon,this.type,this.comingSoon?n.html(bt||(bt=qe(['<img\n              src="','"\n              loading="lazy"\n              decoding="async"\n              fetchpriority="low"\n              alt="Feature coming soon"\n              class="coming-soon"\n            />'])),_t):"",this.beta?n.html(vt||(vt=qe(['<img\n              src="','"\n              loading="lazy"\n              decoding="async"\n              fetchpriority="low"\n              alt="Feature in beta"\n              class="beta"\n            />'])),qt):"")}}],[{key:"tag",get:function(){return"app-hax-button"}},{key:"properties",get:function(){return{icon:{type:String},type:{type:String,reflect:!0},disabled:{type:Boolean,reflect:!0},elevation:{type:Number},active:{type:Boolean,reflect:!0},comingSoon:{type:Boolean,reflect:!0,attribute:"coming-soon"},beta:{type:Boolean,reflect:!0},prompt:{type:String},callback:{type:String},param:{type:String}}}},{key:"styles",get:function(){return[n.css(yt||(yt=qe(['\n        :host {\n          display: block;\n          --background-color: transparent;\n          --background-color-active: white;\n          font-family: "Press Start 2P", sans-serif;\n        }\n        :host([coming-soon]) .haxButton {\n          pointer-events: none;\n          background-color: var(--simple-colors-default-theme-grey-6);\n        }\n        :host([active]) .haxButton {\n          color: var(\n            --app-hax-background-color,\n            var(--background-color-active)\n          );\n          background-color: var(--app-hax-accent-color, var(--accent-color));\n        }\n        :host([active]) simple-icon-lite {\n          --simple-icon-color: var(\n            --app-hax-background-color,\n            var(--background-color-active)\n          );\n        }\n        :host([active]) .type {\n          background-color: var(--app-hax-accent-color, var(--accent-color));\n          color: var(\n            --app-hax-background-color,\n            var(--background-color-active)\n          );\n        }\n\n        #container {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          justify-content: space-around;\n          width: 132px;\n          height: 112px;\n        }\n        .coming-soon {\n          display: block;\n          height: 114px;\n          width: 140px;\n          z-index: 1;\n          position: absolute;\n          margin-top: -75px;\n        }\n        .beta {\n          display: block;\n          height: 100px;\n          width: 120px;\n          z-index: 1;\n          position: absolute;\n          top: 0;\n          left: 0;\n          margin-left: -40px;\n          margin-top: -10px;\n        }\n        .haxButton {\n          background-color: var(\n            --app-hax-background-color,\n            var(--background-color)\n          );\n          color: var(--app-hax-accent-color, var(--accent-color));\n          display: inline-flex;\n        }\n        simple-icon-lite {\n          --simple-icon-width: 60px;\n          --simple-icon-height: 60px;\n          --simple-icon-color: var(--app-hax-accent-color, var(--accent-color));\n        }\n        .type {\n          font-size: 10px;\n          color: var(--app-hax-accent-color, var(--accent-color));\n        }\n        @media (max-width: 800px) {\n          #container {\n            width: 100px;\n            height: 75px;\n          }\n\n          .beta,\n          .coming-soon {\n            margin-top: -50px;\n            height: 114px;\n            width: 100px;\n          }\n        }\n      '])))]}}]),o}(n.LitElement);customElements.define(Ut.tag,Ut);var At,Ot,Mt,Jt,Ft=new URL("../assets/images/Home.svg","undefined"==typeof document&&"undefined"==typeof location?new(require("url").URL)("file:"+__filename).href:"undefined"==typeof document?location.href:document.currentScript&&document.currentScript.src||new URL("app-hax.umd.js",document.baseURI).href).href,Ht=new URL("../assets/images/DisabledCircle.svg","undefined"==typeof document&&"undefined"==typeof location?new(require("url").URL)("file:"+__filename).href:"undefined"==typeof document?location.href:document.currentScript&&document.currentScript.src||new URL("app-hax.umd.js",document.baseURI).href).href,Bt=new URL("../assets/images/TransparentCircle.svg","undefined"==typeof document&&"undefined"==typeof location?new(require("url").URL)("file:"+__filename).href:"undefined"==typeof document?location.href:document.currentScript&&document.currentScript.src||new URL("app-hax.umd.js",document.baseURI).href).href,zt=new URL("../assets/images/EnabledCircle.svg","undefined"==typeof document&&"undefined"==typeof location?new(require("url").URL)("file:"+__filename).href:"undefined"==typeof document?location.href:document.currentScript&&document.currentScript.src||new URL("app-hax.umd.js",document.baseURI).href).href,Nt={portfolio:["haxor-slevin","bootstrap-theme"],course:["clean-one","clean-two","learn-two-theme"],website:["bootstrap-theme","outline-player","haxor-slevin"],import:["clean-one","clean-two","learn-two-theme"]},Dt=function(e){ke(u,e);var t,o,a,s,l,c,p=Ce(u);function u(){var e;return ve(this,u),(e=p.call(this)).windowControllers=new AbortController,e.nameTyped="",e.stepRoutes=[],e._progressReady=!1,e.step=null,e.loaded=!1,e.themeNames=[],e.appSettings={},i.autorun((function(){e.appSettings=i.toJS(We.appSettings);var t=i.toJS(We.site.structure);e.themeNames=Object.keys(e.appSettings.themes).filter((function(e){return t&&Nt[t]&&Nt[t].includes(e)}))})),i.autorun((function(){e.dark=i.toJS(We.darkMode)})),i.autorun((function(){r.localStorageSet("app-hax-step",i.toJS(We.step))})),i.autorun((function(){r.localStorageSet("app-hax-site",i.toJS(We.site)),e.step=We.stepTest(e.step)})),i.autorun((function(){i.toJS(We.createSiteSteps)&&i.toJS(We.location)&&(e.step=We.stepTest(e.step))})),i.autorun((function(){var t=i.toJS(We.routes);e.stepRoutes=t.filter((function(e){return e.step}))})),e}return we(u,[{key:"chooseStructure",value:function(e){if(!e.target.comingSoon){var t=e.target.value;We.site.structure=t,We.appEl.playSound("click2")}}},{key:"chooseType",value:function(e){if(!e.target.comingSoon){var t=e.target.type;We.site.type=t,We.appEl.playSound("click2")}}},{key:"docxImport",value:(c=be(fe().mark((function e(t){var n,o=this;return fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.target.comingSoon||(n=t.target.type,Promise.resolve(ue).then(function(){var e=be(fe().mark((function e(t){var r,a,s,l;return fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O.enableServices(["haxcms"]),r=window.FileSystemBroker.requestAvailability(),e.next=4,r.loadFile("docx");case 4:return a=e.sent,(s=new FormData).append("method","site"),s.append("type",i.toJS(We.site.structure)),s.append("upload",a),o.setProcessingVisual(),e.next=12,A.MicroFrontendRegistry.call("@haxcms/docxToSite",s);case 12:l=e.sent,We.toast("Processed!",300),200==l.status&&l.data&&""!=l.data.contents?(We.items=l.data.items,l.data.files&&(We.itemFiles=l.data.files),o.nameTyped=l.data.filename.replace(".docx","").replace("outline","").replace(/\s/g,"").replace(/-/g,"").toLowerCase(),setTimeout((function(){o.shadowRoot.querySelector("#sitename").value=o.nameTyped,o.shadowRoot.querySelector("#sitename").select()}),800),We.site.type=n,We.site.theme="clean-one",We.appEl.playSound("click2")):(We.appEl.playSound("error"),We.toast("File did not return valid HTML structure"));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)}))),function(e){return c.apply(this,arguments)})},{key:"evoImport",value:(l=be(fe().mark((function e(t){var n,o=this;return fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.target.comingSoon||(n=t.target.type,Promise.resolve(de).then(function(){var e=be(fe().mark((function e(t){var r,a,s,l;return fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O.enableServices(["haxcms"]),r=window.FileSystemBroker.requestAvailability(),e.next=4,r.loadFile("zip");case 4:return a=e.sent,(s=new FormData).append("method","site"),s.append("type",i.toJS(We.site.structure)),s.append("upload",a),o.setProcessingVisual(),e.next=12,A.MicroFrontendRegistry.call("@haxcms/evolutionToSite",s,null,null,"?jwt="+i.toJS(We.AppHaxAPI.jwt));case 12:l=e.sent,We.toast("Processed!",300),200==l.status&&l.data&&""!=l.data.contents?(We.items=l.data.items,o.nameTyped=l.data.filename.replace(".zip","").replace("outline","").replace(/\s/g,"").replace(/-/g,"").toLowerCase(),setTimeout((function(){o.shadowRoot.querySelector("#sitename").value=o.nameTyped,o.shadowRoot.querySelector("#sitename").select()}),800),We.site.type=n,We.site.theme="clean-one",We.appEl.playSound("click2")):(We.appEl.playSound("error"),We.toast("File did not return valid HTML structure"));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)}))),function(e){return l.apply(this,arguments)})},{key:"gbImport",value:(s=be(fe().mark((function e(t){var n,o,i,r=this;return fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.target.comingSoon){e.next=10;break}return n=t.target.type,o=window.prompt("URL for the Gitbook repo"),O.enableServices(["haxcms"]),this.setProcessingVisual(),e.next=7,A.MicroFrontendRegistry.call("@haxcms/gitbookToSite",{md:o});case 7:i=e.sent,We.toast("Processed!",300),200==i.status&&i.data&&""!=i.data.contents?(We.items=i.data.items,i.data.files&&(We.itemFiles=i.data.files),this.nameTyped=i.data.filename.replace(/\s/g,"").replace(/-/g,"").toLowerCase(),setTimeout((function(){r.shadowRoot.querySelector("#sitename").value=r.nameTyped,r.shadowRoot.querySelector("#sitename").select()}),800),We.site.type=n,We.site.theme="clean-one",We.appEl.playSound("click2")):(We.appEl.playSound("error"),We.toast("Repo did not return valid structure"));case 10:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"importFromURL",value:(a=be(fe().mark((function e(t){var n,o,i,r,a,s,l,c,p=this;return fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target,o=n.type,i=n.prompt,r=n.callback,a=n.param,t.target.comingSoon){e.next=12;break}return s=window.prompt(i),O.enableServices(["haxcms"]),this.setProcessingVisual(),(l={})[a]=s,e.next=9,A.MicroFrontendRegistry.call(r,l);case 9:c=e.sent,We.toast("Processed!",300),200==c.status&&c.data&&""!=c.data.contents?(We.items=c.data.items,c.data.files&&(We.itemFiles=c.data.files),this.nameTyped=c.data.filename.replace(/\s/g,"").replace(/-/g,"").toLowerCase(),setTimeout((function(){p.shadowRoot.querySelector("#sitename").value=p.nameTyped,p.shadowRoot.querySelector("#sitename").select()}),800),We.site.type=o,We.site.theme="clean-one",We.appEl.playSound("click2")):(We.appEl.playSound("error"),We.toast("Repo did not return valid structure"));case 12:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"notionImport",value:(o=be(fe().mark((function e(t){var n,o,i,r=this;return fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.target.comingSoon){e.next=10;break}return n=t.target.type,o=window.prompt("URL for the Github Notion repo"),O.enableServices(["haxcms"]),this.setProcessingVisual(),e.next=7,A.MicroFrontendRegistry.call("@haxcms/notionToSite",{repoUrl:o});case 7:i=e.sent,We.toast("Processed!",300),200==i.status&&i.data&&""!=i.data.contents?(We.items=i.data.items,i.data.files&&(We.itemFiles=i.data.files),this.nameTyped=i.data.filename.replace(/\s/g,"").replace(/-/g,"").toLowerCase(),setTimeout((function(){r.shadowRoot.querySelector("#sitename").value=r.nameTyped,r.shadowRoot.querySelector("#sitename").select()}),800),We.site.type=n,We.site.theme="clean-one",We.appEl.playSound("click2")):(We.appEl.playSound("error"),We.toast("Repo did not return valid structure"));case 10:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"pressbooksImport",value:(t=be(fe().mark((function e(t){var n,o=this;return fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.target.comingSoon||(n=t.target.type,Promise.resolve(ue).then(function(){var e=be(fe().mark((function e(t){var r,a,s,l;return fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O.enableServices(["haxcms"]),r=window.FileSystemBroker.requestAvailability(),e.next=4,r.loadFile("html");case 4:return a=e.sent,(s=new FormData).append("method","site"),s.append("type",i.toJS(We.site.structure)),s.append("upload",a),o.setProcessingVisual(),e.next=12,A.MicroFrontendRegistry.call("@haxcms/pressbooksToSite",s);case 12:l=e.sent,We.toast("Processed!",300),200==l.status&&l.data&&""!=l.data.contents?(We.items=l.data.items,l.data.files&&(We.itemFiles=l.data.files),o.nameTyped=l.data.filename.replace(".html","").replace("outline","").replace(/\s/g,"").replace(/-/g,"").toLowerCase(),setTimeout((function(){o.shadowRoot.querySelector("#sitename").value=o.nameTyped,o.shadowRoot.querySelector("#sitename").select()}),800),We.site.type=n,We.site.theme="clean-one",We.appEl.playSound("click2")):(We.appEl.playSound("error"),We.toast("File did not return valid HTML structure"));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})},{key:"setProcessingVisual",value:function(){var e=document.createElement("simple-icon-lite");e.icon="hax:loading",e.style.setProperty("--simple-icon-height","40px"),e.style.setProperty("--simple-icon-width","40px"),e.style.height="150px",e.style.marginLeft="8px",We.toast("Processing",6e4,{hat:"construction",slot:e})}},{key:"chooseTheme",value:function(e){if(!e.target.comingSoon){var t=e.target.value;We.site.theme=t,We.appEl.playSound("click2")}}},{key:"chooseName",value:function(){if(""!==this.nameTyped){var e=this.shadowRoot.querySelector("#sitename").value;We.site.name=e,We.appEl.playSound("click2")}}},{key:"progressReady",value:function(e){var t=this;e.detail&&(this._progressReady=!0,5===this.step&&setTimeout((function(){t.shadowRoot.querySelector("app-hax-hat-progress").process()}),300))}},{key:"updated",value:function(e){var t=this;_e(Se(u.prototype),"updated",this)&&_e(Se(u.prototype),"updated",this).call(this,e),e.forEach((function(e,n){4===t.step&&"step"===n&&t.shadowRoot&&(t.shadowRoot.querySelector("#sitename").value=i.toJS(We.site.name)),5===t.step&&"step"===n&&t.shadowRoot&&t._progressReady&&setTimeout((function(){t.shadowRoot.querySelector("app-hax-hat-progress").process()}),600),"step"===n&&(We.step=t.step)}))}},{key:"connectedCallback",value:function(){_e(Se(u.prototype),"connectedCallback",this).call(this),window.addEventListener("resize",this.maintainScroll.bind(this),{signal:this.windowControllers.signal}),window.addEventListener("popstate",this.popstateListener.bind(this),{signal:this.windowControllers.signal})}},{key:"disconnectedCallback",value:function(){this.windowControllers.abort(),_e(Se(u.prototype),"disconnectedCallback",this).call(this)}},{key:"popstateListener",value:function(e){var t=this;if("popstate"===e.type&&null===e.state)try{setTimeout((function(){var n=e.target.document.location.pathname.split("/").pop();if(n.includes("createSite")){var o=parseInt(n.replace("createSite-step-",""));o<We.stepTest(o)?t.shadowRoot.querySelector("#link-step-"+o).click():o>We.stepTest(o)&&(We.toast("Please select an option"),t.step=We.stepTest(o),t.shadowRoot.querySelector("#link-step-"+t.step).click())}}),0)}catch(e){}}},{key:"maintainScroll",value:function(){var e=this;this.shadowRoot&&this.step&&(this.scrollToThing("#step-".concat(this.step),{behavior:"instant",block:"start",inline:"nearest"}),setTimeout((function(){e.scrollToThing("#step-".concat(e.step),{behavior:"instant",block:"start",inline:"nearest"})}),100))}},{key:"firstUpdated",value:function(e){var t=this;_e(Se(u.prototype),"firstUpdated",this)&&_e(Se(u.prototype),"firstUpdated",this).call(this,e),setTimeout((function(){null===t.step&&(t.step=1),t.scrollToThing("#step-".concat(t.step),{behavior:"instant",block:"start",inline:"nearest"})}),100),i.autorun((function(){if(i.toJS(We.createSiteSteps)&&i.toJS(We.appReady)){var e=i.toJS(We.location);e.route&&e.route.step&&e.route.name&&setTimeout((function(){t.scrollToThing("#".concat(e.route.name),{behavior:"smooth",block:"start",inline:"nearest"}),4===e.route.step&&4===We.stepTest(4)&&setTimeout((function(){t.shadowRoot.querySelector("#sitename").focus(),t.scrollToThing("#step-4",{behavior:"instant",block:"start",inline:"nearest"})}),800)}),300)}})),i.autorun((function(){if(t.shadowRoot&&i.toJS(We.createSiteSteps)&&i.toJS(We.appReady)){var e=i.toJS(We.activeItem);e&&e.name&&e.step&&!t.__overrideProgression&&t.shadowRoot.querySelector("#link-".concat(e.name)).click()}}))}},{key:"scrollToThing",value:function(e,t){var n=void 0!==window.safari;this.shadowRoot.querySelector(".carousel-with-snapping-item.active-step")&&this.shadowRoot.querySelector(".carousel-with-snapping-item.active-step").classList.remove("active-step"),n?this.shadowRoot.querySelector(e).scrollIntoView():this.shadowRoot.querySelector(e).scrollIntoView(t),this.shadowRoot.querySelector(e).classList.add("active-step")}},{key:"progressFinished",value:function(e){e.detail&&(this.loaded=!0,We.appEl.playSound("success"),e.target.shadowRoot.querySelector(".game").focus(),this.scrollToThing("#step-".concat(this.step),{behavior:"instant",block:"start",inline:"nearest"}))}},{key:"typeKey",value:function(){this.nameTyped=this.shadowRoot.querySelector("#sitename").value}},{key:"keydown",value:function(e){[" ","/","\\","&","#","?","+","=","{","}","|","^","~","[","]","`",'"',"'"].includes(e.key)?(We.appEl.playSound("error"),We.toast('"'.concat(e.key,'" not allowed in names')),e.preventDefault()):"Enter"===e.key?this.chooseName():["ArrowUp","ArrowRight","ArrowDown","ArrowLeft"].includes(e.key)||We.appEl.playSound("click")}},{key:"stepLinkClick",value:function(e){var t=parseInt(e.target.getAttribute("data-step"),10);this.step<t?e.preventDefault():null===e.target.getAttribute("data-step")?(We.createSiteSteps=!1,We.appMode="home",this.nameTyped="",We.siteReady=!1,We.site.structure=null,We.site.type=null,We.site.theme=null,We.site.name=null):this.step>t&&(this.nameTyped="",We.siteReady=!1,1===t?(We.site.structure=null,We.site.type=null,We.site.theme=null,We.site.name=null):2===t?(We.site.type=null,We.site.theme=null,We.site.name=null):3===t?(We.site.theme=null,We.site.name=null):4===t&&(We.site.name=null),this.step=t)}},{key:"renderTypes",value:function(e){var t=i.toJS(We.site.structure),o=n.html(xt||(xt=qe([""])));switch(t){case"portfolio":o=n.html(kt||(kt=qe([' <app-hax-button\n            tabindex="','"\n            @click=','\n          ></app-hax-button>\n          <app-hax-button\n            tabindex="','"\n            @click=','\n            type="technology"\n            coming-soon\n          ></app-hax-button>\n          <app-hax-button\n            tabindex="','"\n            @click=','\n            type="business"\n            coming-soon\n          ></app-hax-button>\n          <app-hax-button\n            tabindex="','"\n            @click=','\n            type="art"\n            coming-soon\n          ></app-hax-button>'])),2!==e?"-1":"",this.chooseType,2!==e?"-1":"",this.chooseType,2!==e?"-1":"",this.chooseType,2!==e?"-1":"",this.chooseType);break;default:case"course":o=n.html(St||(St=qe([' <app-hax-button\n            tabindex="','"\n            @click=','\n          ></app-hax-button>\n          <app-hax-button\n            tabindex="','"\n            @click=','\n            type="15w"\n          ></app-hax-button>\n          <app-hax-button\n            tabindex="','"\n            @click=','\n            type="6w"\n          ></app-hax-button>\n          <app-hax-button\n            tabindex="','"\n            @click=','\n            type="training"\n          ></app-hax-button>\n          <app-hax-button\n            tabindex="','"\n            @click=','\n            type="docx import"\n          ></app-hax-button>'])),2!==e?"-1":"",this.chooseType,2!==e?"-1":"",this.chooseType,2!==e?"-1":"",this.chooseType,2!==e?"-1":"",this.chooseType,2!==e?"-1":"",this.docxImport);break;case"website":o=n.html(jt||(jt=qe([' <app-hax-button\n            tabindex="','"\n            @click=','\n            type="blog"\n          ></app-hax-button>\n          <app-hax-button\n            tabindex="','"\n            @click=',"\n            coming-soon\n          ></app-hax-button>"])),2!==e?"-1":"",this.chooseType,2!==e?"-1":"",this.chooseType);break;case"import":o=n.html(Lt||(Lt=qe([' <app-hax-button\n            tabindex="','"\n            @click=','\n            type="docx"\n          ></app-hax-button>\n          <app-hax-button\n            tabindex="','"\n            @click=','\n            type="elms:ln"\n            prompt="URL for the ELMS:LN site"\n            callback="@haxcms/elmslnToSite"\n            param="repoUrl"\n          ></app-hax-button>\n          <app-hax-button\n            tabindex="','"\n            @click=','\n            type="haxcms"\n            prompt="URL for the HAXcms site"\n            callback="@haxcms/haxcmsToSite"\n            param="repoUrl"\n          ></app-hax-button>\n          <app-hax-button\n            tabindex="','"\n            @click=','\n            type="evolution"\n          ></app-hax-button>\n          <app-hax-button\n            tabindex="','"\n            @click=','\n            type="notion"\n            prompt="URL for the Notion git repo"\n            callback="@haxcms/notionToSite"\n            param="repoUrl"\n          ></app-hax-button>\n          <app-hax-button\n            tabindex="','"\n            @click=','\n            type="gitbook"\n            prompt="URL for the Gitbook git repo"\n            callback="@haxcms/gitbookToSite"\n            param="md"\n          ></app-hax-button>\n          <app-hax-button\n            tabindex="','"\n            @click=','\n            type="pressbooks"\n            beta\n          ></app-hax-button>'])),2!==e?"-1":"",this.docxImport,2!==e?"-1":"",this.importFromURL,2!==e?"-1":"",this.importFromURL,2!==e?"-1":"",this.evoImport,2!==e?"-1":"",this.importFromURL,2!==e?"-1":"",this.importFromURL,2!==e?"-1":"",this.pressbooksImport)}return o}},{key:"render",value:function(){var e=this;return n.html(Rt||(Rt=qe(['\n      <div id="container">\n        <ul id="step-links">\n          <li>\n            ',"\n          </li>\n          ",'\n        </ul>\n        <scrollable-component>\n          <div class="carousel-with-snapping-track">\n            <div class="carousel-with-snapping-item" id="step-1">\n              <div class="step-wrapper">\n                <app-hax-site-button\n                  tabindex="','"\n                  label="&gt; Course"\n                  value="course"\n                  @click=','\n                ></app-hax-site-button>\n                <app-hax-site-button\n                  tabindex="','"\n                  label="&gt; Portfolio"\n                  value="portfolio"\n                  @click=','\n                ></app-hax-site-button>\n                <app-hax-site-button\n                  tabindex="','"\n                  label="&gt; Import From.."\n                  value="import"\n                  @click=','\n                ></app-hax-site-button>\n                <app-hax-site-button\n                  tabindex="','"\n                  label="&gt; Website"\n                  value="website"\n                  @click=','\n                  coming-soon\n                ></app-hax-site-button>\n              </div>\n            </div>\n            <div class="carousel-with-snapping-item" id="step-2">\n              <div id="grid-container">','</div>\n            </div>\n            <div class="carousel-with-snapping-item" id="step-3">\n              <div id="themeContainer">\n                ','\n              </div>\n            </div>\n            <div class="carousel-with-snapping-item" id="step-4">\n              <input\n                id="sitename"\n                @input="','"\n                @keydown="','"\n                maxlength="30"\n                placeholder="',' name.."\n                tabindex="','"\n              />\n              <app-hax-site-button\n                class="sitenamebtn"\n                tabindex="','"\n                label="&gt; Create journey"\n                @click=','\n                ?disabled="','"\n              >\n              </app-hax-site-button>\n            </div>\n            <div class="carousel-with-snapping-item" id="step-5">\n              <app-hax-hat-progress\n                @progress-ready="','"\n                @promise-progress-finished="','"\n                tabindex="','"\n              ></app-hax-hat-progress>\n            </div>\n          </div>\n        </scrollable-component>\n      </div>\n    '])),i.toJS(We.isNewUser)?n.html(Et||(Et=qe([""]))):n.html(Tt||(Tt=qe(['\n                  <a href="home" class="homelnk" tabindex="-1">\n                    <simple-icon-lite\n                      tabindex="0"\n                      src="','"\n                      id="homebtn"\n                      title="Site list"\n                      @click="','"\n                    ></simple-icon-lite>\n                  </a>\n                  <simple-tooltip for="homebtn" position="bottom"\n                    >Site list</simple-tooltip\n                  >\n                '])),Ft,this.stepLinkClick),this.stepRoutes.map((function(t,o){return n.html(Pt||(Pt=qe(['<li\n                ?disabled="','"\n                class="step ','"\n              >\n                <a\n                  href="','"\n                  ?disabled="','"\n                  tabindex="','"\n                  @click="','"\n                  id="link-','"\n                  title="Step ',": ",'"\n                  data-step="','"\n                  >','</a\n                >\n                <simple-tooltip for="link-','" position="bottom"\n                  >Step ',": ","</simple-tooltip\n                >\n              </li>"])),e.step<t.step||5===e.step,e.step===t.step?"active-step":"",t.path,e.step<t.step||5===e.step,e.step<=t.step?"-1":"0",e.stepLinkClick,t.name,o+1,t.label,t.step,o+1,t.name,o+1,t.label)})),1!==this.step?"-1":"",this.chooseStructure,1!==this.step?"-1":"",this.chooseStructure,1!==this.step?"-1":"",this.chooseStructure,1!==this.step?"-1":"",this.chooseStructure,this.renderTypes(this.step),this.appSettings&&this.appSettings.themes?this.themeNames.map((function(t){return n.html(Ct||(Ct=qe(['\n                        <button\n                          aria-label="',' theme"\n                          value="','"\n                          class="theme-button"\n                          @click=','\n                          tabindex="','"\n                        >\n                          <img\n                            class="theme-img"\n                            src="','"\n                            alt=""\n                            loading="lazy"\n                            decoding="async"\n                          />\n                          <div>',"</div>\n                        </button>\n                      "])),e.appSettings.themes[t].name,t,e.chooseTheme,3!==e.step?"-1":"",e.appSettings.themes[t].thumbnail,e.appSettings.themes[t].name)})):"",this.typeKey,this.keydown,i.toJS(We.site.structure),4!==this.step?"-1":"",4!==this.step?"-1":"",this.chooseName,""===this.nameTyped,this.progressReady,this.progressFinished,5!==this.step?"-1":"")}}],[{key:"tag",get:function(){return"app-hax-steps"}},{key:"properties",get:function(){return me(me({},_e(Se(u),"properties",this)),{},{step:{type:Number,reflect:!0},stepRoutes:{type:Array},themeNames:{type:Array},loaded:{type:Boolean,reflect:!0},appSettings:{type:Object},nameTyped:{type:String}})}},{key:"styles",get:function(){return[].concat(Ue(_e(Se(u),"styles",this)),[n.css(It||(It=qe(['\n        :host {\n          display: block;\n        }\n        scrollable-component {\n          --scrollbar-width: 0px;\n          --scrollbar-height: 0px;\n          --scrollbar-padding: 0;\n          --viewport-overflow-x: hidden;\n          overflow: hidden;\n        }\n        #grid-container {\n          display: grid;\n          grid-template-columns: 200px 200px 200px;\n          background: transparent;\n        }\n        .carousel-with-snapping-track {\n          display: grid;\n          grid-auto-flow: column;\n          grid-gap: 30px;\n        }\n        .carousel-with-snapping-item {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          justify-content: normal;\n          scroll-snap-align: center;\n          scroll-snap-stop: always;\n          scrollbar-gutter: stable;\n          width: var(--viewport-width);\n          font-size: 1.5rem;\n          text-align: center;\n          overflow-x: hidden;\n          max-height: 60vh;\n          padding-top: 1vh;\n        }\n        #step-links {\n          padding: 0;\n          margin: 0;\n        }\n        ul,\n        li {\n          list-style: none;\n        }\n        li {\n          vertical-align: middle;\n          display: inline-flex;\n          margin: 5px;\n        }\n        li.step {\n          border-radius: 50%;\n          background-color: transparent;\n        }\n        li a {\n          font-size: 12px;\n          color: var(--simple-colors-default-theme-grey-12, white);\n          text-decoration: none;\n          padding: 5px;\n          width: 20px;\n          height: 20px;\n          line-height: 20px;\n          margin: 0;\n          display: block;\n          border: 0;\n          border-radius: 50%;\n          background-repeat: no-repeat;\n          background-size: 30px 30px;\n          background-color: var(--simple-colors-default-theme-grey-1, white);\n          background-image: url("','");\n          transition: 0.3s ease-in-out background, 0.3s ease-in-out color;\n          transition-delay: 0.6s, 0.3s;\n        }\n        li a[disabled] {\n          background-image: url("','");\n          pointer-events: none;\n          color: var(--simple-colors-default-theme-grey-7, grey);\n          user-select: none;\n        }\n        li[disabled] {\n          background-color: grey;\n        }\n        li.active-step a {\n          background-color: orange;\n          background-image: url("','");\n        }\n        app-hax-button {\n          padding: 10px 0px 10px 0px;\n          background: transparent;\n        }\n        #theme-container {\n          display: flex;\n          flex-direction: row;\n          align-items: center;\n          justify-content: center;\n        }\n        img {\n          pointer-events: none;\n        }\n        #themeContainer {\n          width: 70vw;\n          height: 55vh;\n        }\n        .theme-button {\n          background-color: transparent;\n          color: var(--simple-colors-default-theme-grey-12, white);\n          border: none;\n          margin: 8px;\n          padding: 8px;\n          width: 245px;\n        }\n\n        .theme-button div {\n          font-family: "Press Start 2P", sans-serif;\n          font-size: 14px;\n          margin-top: 12px;\n        }\n        .theme-button:focus,\n        .theme-button:hover {\n          outline: 4px solid var(--app-hax-accent-color, var(--accent-color));\n          outline-offset: 4px;\n          background-color: transparent;\n          border: none;\n          cursor: pointer;\n        }\n        #sitename {\n          font-family: "Press Start 2P", sans-serif;\n          font-size: 32px;\n          padding: 8px;\n          width: 40vw;\n        }\n        #homebtn {\n          --simple-icon-height: 30px;\n          --simple-icon-width: 30px;\n          border-radius: 50%;\n          cursor: pointer;\n          background-color: var(--simple-colors-default-theme-grey-1, white);\n        }\n        .homelnk {\n          background-image: none;\n          display: flex;\n          padding: 0;\n          margin: 0;\n          height: 30px;\n          width: 30px;\n        }\n        app-hax-site-button {\n          justify-content: center;\n          --app-hax-site-button-width: 35vw;\n          --app-hax-site-button-min-width: 240px;\n        }\n        app-hax-hat-progress {\n          height: 400px;\n          width: 400px;\n          display: block;\n        }\n\n        @media (max-width: 800px) {\n          .theme-button {\n            width: unset;\n            padding: 0;\n          }\n          .theme-button div {\n            font-size: 12px;\n            margin-top: 8px;\n          }\n          .theme-button img {\n            height: 70px;\n          }\n          app-hax-site-button {\n            width: 320px;\n            max-width: 60vw;\n            --app-hax-site-button-font-size: 2.5vw;\n          }\n          #sitename {\n            width: 70vw;\n            font-size: 20px;\n          }\n          #grid-container {\n            grid-template-columns: 150px 150px 150px;\n          }\n        }\n        @media (max-height: 600px) {\n          .carousel-with-snapping-item {\n            padding-top: 4px;\n            max-height: 57vh;\n          }\n          #sitename {\n            width: 40vw;\n            font-size: 14px;\n          }\n          app-hax-hat-progress {\n            transform: scale(0.5);\n            margin-top: -18vh;\n          }\n        }\n        @media (max-width: 500px) {\n          app-hax-hat-progress {\n            transform: scale(0.5);\n            margin-top: -15vh;\n          }\n        }\n        @media (max-height: 400px) {\n          .carousel-with-snapping-item {\n            padding-top: 4px;\n            max-height: 40vh;\n          }\n          app-hax-hat-progress {\n            transform: scale(0.3);\n          }\n          .carousel-with-snapping-item.active-step app-hax-hat-progress {\n            position: fixed;\n            top: 20%;\n            left: 20%;\n          }\n        }\n      '])),n.unsafeCSS(zt),n.unsafeCSS(Ht),n.unsafeCSS(Bt))])}}]),u}(o.SimpleColors);customElements.define(Dt.tag,Dt);var Gt=function(e){ke(i,e);var t,o=Ce(i);function i(){var e;return ve(this,i),(e=o.call(this)).windowControllers=new AbortController,e.username="",e.password="",e.errorMSG="Enter User name",e.hidePassword=!0,e.hasPass=!1,e}return we(i,[{key:"firstUpdated",value:function(){var e=this;_e(Se(i.prototype),"firstUpdated",this).call(this),setTimeout((function(){e.shadowRoot.querySelector("input").focus()}),0)}},{key:"checkUsername",value:function(){var e=this,t=this.shadowRoot.querySelector("#username").value;this.hidePassword=!1,this.errorMSG="",this.username=t,We.appEl.playSound("click2"),setTimeout((function(){e.shadowRoot.querySelector("input").focus()}),0)}},{key:"checkPassword",value:(t=be(fe().mark((function e(){var t;return fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:We.appEl.playSound("click2"),t=this.shadowRoot.querySelector("#password").value,window.dispatchEvent(new CustomEvent("jwt-login-login",{composed:!0,bubbles:!0,cancelable:!1,detail:{username:this.username,password:t}}));case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"reset",value:function(){this.errorMSG="",this.username="",this.hasPass=!1,this.hidePassword=!0}},{key:"nameChange",value:function(){this.username=this.shadowRoot.querySelector("#username").value}},{key:"connectedCallback",value:function(){_e(Se(i.prototype),"connectedCallback",this).call(this),window.addEventListener("jwt-logged-in",this._jwtLoggedIn.bind(this),{signal:this.windowControllers.signal}),window.addEventListener("jwt-login-login-failed",this._jwtLoginFailed.bind(this),{signal:this.windowControllers.signal})}},{key:"disconnectedCallback",value:function(){this.windowControllers.abort(),_e(Se(i.prototype),"disconnectedCallback",this).call(this)}},{key:"_jwtLoginFailed",value:function(e){this.hidePassword=!0,this.errorMSG="Invalid Username or Password",We.appEl.playSound("error")}},{key:"_jwtLoggedIn",value:function(e){e.detail&&(We.user={name:this.username},We.appEl.playSound("success"),this.dispatchEvent(new CustomEvent("simple-modal-hide",{bubbles:!0,cancelable:!0,detail:{}})),We.toast("Welcome ".concat(this.username,"! Let's go!"),5e3,{hat:"construction"}),We.appEl.reset())}},{key:"passChange",value:function(e){var t=this.shadowRoot.querySelector("#password").value;this.hasPass=!!t}},{key:"toggleViewPass",value:function(e){var t=this.shadowRoot.querySelector("#password"),n="password"===t.getAttribute("type")?"text":"password";t.setAttribute("type",n),e.target.icon="text"===n?"lrn:visible":"lrn:view-off"}},{key:"render",value:function(){return n.html(At||(At=qe(['\n      <rpg-character seed="','"></rpg-character>\n      <p id="errorText">','</p>\n      <div id="inputcontainer">\n        ','\n        <div class="external">\n          <slot name="externalproviders"></slot>\n        </div>\n      </div>\n    '])),this.username,this.errorMSG,this.hidePassword?n.html(Ot||(Ot=qe(['<input\n                id="username"\n                type="text"\n                placeholder="user name"\n                aria-label="user name"\n                @input="','"\n              />\n              <button\n                ?disabled="','"\n                @click=',"\n              >\n                Next &gt;\n              </button>"])),this.nameChange,!this.username,this.checkUsername):n.html(Mt||(Mt=qe(['<div class="notyou">\n                Hey ',"! <a @click=",'>not you?</a>\n              </div>\n              <input\n                id="password"\n                type="password"\n                placeholder="password"\n                @input="','"\n              />\n              <simple-icon-button-lite\n                icon="lrn:view-off"\n                tabindex="-1"\n                title="Toggle password display"\n                @click="','"\n                class="visibility-icon"\n              ></simple-icon-button-lite>\n              <button ?disabled="','" @click=',">\n                Login\n              </button>"])),this.username,this.reset,this.passChange,this.toggleViewPass,!this.hasPass,this.checkPassword))}}],[{key:"tag",get:function(){return"app-hax-site-login"}},{key:"properties",get:function(){return me(me({},_e(Se(i),"properties",this)),{},{username:{type:String},password:{type:String},errorMSG:{type:String},hidePassword:{type:Boolean},hasPass:{type:Boolean}})}},{key:"styles",get:function(){return[].concat(Ue(_e(Se(i),"styles",this)),[n.css(Jt||(Jt=qe(['\n        :host {\n          display: flex;\n          flex-direction: column;\n          justify-content: center;\n          align-items: center;\n        }\n        #inputcontainer {\n          display: flex;\n          flex-direction: column;\n          justify-content: center;\n          align-items: center;\n        }\n        a {\n          color: red;\n        }\n\n        // This does not work\n        #errorText > p {\n          visibility: hidden;\n          background-color: lightblue;\n          color: red;\n          font-weight: bold;\n        }\n        rpg-character {\n          display: block;\n          margin: 0px;\n        }\n        .external {\n          text-align: center;\n        }\n        input {\n          font-family: "Press Start 2P", sans-serif;\n          font-size: 28px;\n          padding: 8px;\n          border: 4px solid black;\n          border-radius: 8px;\n          width: 75%;\n        }\n        button {\n          font-family: "Press Start 2P", sans-serif;\n          font-size: 30px;\n          padding: 8px;\n          border: 4px solid black;\n          border-radius: 8px;\n          min-width: 50%;\n          margin: 16px;\n        }\n        button:focus,\n        button:hover {\n          background-color: var(--simple-colors-default-theme-green-8);\n          color: var(--simple-colors-default-theme-grey-1);\n          outline: 2px solid var(--simple-colors-default-theme-grey-1);\n          cursor: pointer;\n        }\n        .notyou {\n          padding: 8px;\n        }\n        .visibility-icon {\n          color: var(--simple-colors-default-theme-grey-12);\n          background-color: var(--simple-colors-default-theme-grey-3);\n          border: 2px solid var(--simple-colors-default-theme-grey-12);\n          position: relative;\n          margin-top: -44px;\n          margin-bottom: 20px;\n          margin-left: 70%;\n          z-index: 1;\n          padding: 2px;\n          --simple-icon-width: 26px;\n          --simple-icon-height: 26px;\n        }\n      '])))])}}]),i}(o.SimpleColors);customElements.define(Gt.tag,Gt);var $t,Wt,Vt=Object.freeze({__proto__:null,AppHaxSiteLogin:Gt}),Xt=function(e){ke(o,e);var t=Ce(o);function o(){var e;return ve(this,o),(e=t.call(this)).key=null,e.phrases={},e.word=null,e}return we(o,[{key:"updated",value:function(e){var t=this;e.forEach((function(e,n){["key","phrases"].includes(n)&&t.getNewWord(),"word"===n&&t[n]&&(t.innerHTML="",t.innerHTML=t.word,t.dispatchEvent(new CustomEvent("word-changed",{detail:t.word})))}))}},{key:"getNewWord",value:function(){this.phrases&&this.key&&this.phrases[this.key]&&(this.word=this.phrases[this.key][Math.floor(Math.random()*this.phrases[this.key].length)])}},{key:"render",value:function(){return n.html($t||($t=qe(["<slot></slot>"])))}}],[{key:"tag",get:function(){return"random-word"}},{key:"properties",get:function(){return{key:{type:String},phrases:{type:Object},word:{type:String}}}}]),o}(n.LitElement);customElements.define(Xt.tag,Xt);var Yt=function(e){ke(s,e);var t,o,a=Ce(s);function s(){var e;return ve(this,s),(e=a.call(this)).jwt=r.localStorageGet("jwt",null),e.method=window&&window.appSettings&&window.appSettings.demo?"GET":"POST",e.basePath="/",e.lastResponse={},e.appSettings={},i.autorun((function(){e.appSettings=i.toJS(We.appSettings),e.appSettings.method&&(e.method=e.appSettings.method),e.appSettings.jwt&&(e.jwt=e.appSettings.jwt)})),i.autorun((function(){e.token=i.toJS(We.token)})),e}return we(s,[{key:"render",value:function(){return n.html(Wt||(Wt=qe(['<jwt-login\n      jwt="','"\n      url="','"\n      method="','"\n      refresh-url="','"\n      redirect-url="','"\n      logout-url="','"\n      id="jwt"\n      @jwt-changed="','"\n      @jwt-login-login-failed="','"\n    ></jwt-login>'])),this.jwt,this.appSettings.login,this.method,this.appSettings.refreshUrl,this.appSettings.redirectUrl,this.appSettings.logout,this.jwtChanged,this.jwtFailed)}},{key:"jwtFailed",value:function(e){this.jwt=null,this.token=null}},{key:"jwtChanged",value:(o=be(fe().mark((function e(t){var n;return fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.jwt=t.detail.value,this.__loopBlock||!this.jwt){e.next=7;break}return this.__loopBlock=!0,e.next=5,this.makeCall("getUserDataPath");case 5:(n=e.sent)&&n.data&&(We.user={name:n.data.userName},this.__loopBlock=!1);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"makeCall",value:(t=be(fe().mark((function e(t){var n,o,i,r,a,s,l=this,c=arguments;return fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.length>1&&void 0!==c[1]?c[1]:{},o=c.length>2&&void 0!==c[2]&&c[2],i=c.length>3&&void 0!==c[3]&&c[3],!this.appSettings||!this.appSettings[t]){e.next=15;break}return r="".concat(this.basePath).concat(this.appSettings[t]),a={method:this.method},this.jwt&&(n.jwt=this.jwt),this.token&&(n.token=this.token),"GET"===this.method?r+="?"+new URLSearchParams(n).toString():a.body=JSON.stringify(n),e.next=11,fetch("".concat(r),a).then((function(e){return e.ok?e.json():(401===e.status||404===e.status?window.dispatchEvent(new CustomEvent("jwt-login-logout",{composed:!0,bubbles:!0,cancelable:!1,detail:!0})):403===e.status&&window.dispatchEvent(new CustomEvent("jwt-login-refresh-token",{composed:!0,bubbles:!0,cancelable:!1,detail:{element:{obj:l,callback:"refreshRequest",params:[t,n,o,i]}}})),{})}));case 11:return s=e.sent,o&&(this.lastResponse[t]=s),i&&i(),e.abrupt("return",s);case 15:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"refreshRequest",value:function(e,t){var n=t.call,o=t.data,i=t.save,r=t.callback;e&&(this.jwt=e,this.makeCall(n,o,i,r))}},{key:"firstUpdated",value:function(e){var t=this;_e(Se(s.prototype),"firstUpdated",this)&&_e(Se(s.prototype),"firstUpdated",this).call(this,e),We.AppHaxAPI=this,We.newSitePromiseList=[].concat(Ue(We.newSitePromiseList),[be(fe().mark((function e(){return fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.makeCall("createSite",t._formatSitePostData(),!0);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))])}},{key:"_formatSitePostData",value:function(){var e=i.toJS(We.site),t=i.toJS(We.items),n=i.toJS(We.itemFiles),o=Object.keys(B.SimpleColorsSharedStylesGlobal.colors);return{site:{name:e.name,description:"".concat(e.type," ").concat(e.structure),theme:e.theme},build:{type:e.type,structure:e.structure,items:t,files:n},theme:{color:o[Math.floor(Math.random()*o.length)],icon:"".concat(z.SimpleIconIconsetsManifest[0].name,":").concat(z.SimpleIconIconsetsManifest[0].icons[Math.floor(Math.random()*z.SimpleIconIconsetsManifest[0].icons.length)])}}}},{key:"updated",value:function(e){var t=this;_e(Se(s.prototype),"updated",this)&&_e(Se(s.prototype),"updated",this).call(this,e),e.forEach((function(e,n){"jwt"===n&&(We.jwt=t[n]),"token"===n&&(We.token=t[n])}))}}],[{key:"tag",get:function(){return"app-hax-backend-api"}},{key:"properties",get:function(){return{jwt:{type:String},basePath:{type:String,attribute:"base-path"},appSettings:{type:Object},method:{type:String},token:{type:String}}}}]),s}(n.LitElement);window.AppHaxAPI=window.AppHaxAPI||{},window.AppHaxAPI.requestAvailability=function(){return window.AppHaxAPI.instance||(window.AppHaxAPI.instance=document.createElement(Yt.tag),document.body.appendChild(window.AppHaxAPI.instance)),window.AppHaxAPI.instance};var Kt=window.AppHaxAPI.requestAvailability();customElements.define(Yt.tag,Yt);var Qt,Zt,en=function(e){ke(n,e);var t=Ce(n);function n(){var e;ve(this,n);var o={};return(e=t.call(this)).baseURI&&(o.baseUrl=e.baseURI),e.windowControllers=new AbortController,e.router=new D.Router(Ee(e),o),i.autorun((function(){e._updateRouter(i.toJS(We.routes))})),i.autorun((function(){var e=i.toJS(We.manifest),t=i.toJS(We.AppHaxAPI.basePath);if(e&&e.items&&e.items.length>0){var n=e.items.map((function(e){return{path:e.slug.replace(t,""),slug:e.slug,name:e.id,component:"fake-".concat(e.id,"-e")}}));We.routes=Ue(n).concat(We.baseRoutes)}})),e}return we(n,[{key:"connectedCallback",value:function(){window.addEventListener("vaadin-router-location-changed",this._routerLocationChanged.bind(this),{signal:this.windowControllers.signal})}},{key:"disconnectedCallback",value:function(){this.windowControllers.abort()}},{key:"_updateRouter",value:function(e){this.router.setRoutes(Ue(e))}},{key:"_routerLocationChanged",value:function(e){We.location=e.detail.location}}],[{key:"tag",get:function(){return"app-hax-router"}}]),n}(Te(HTMLElement));customElements.define(en.tag,en);var tn,nn,on=function(e){ke(o,e);var t=Ce(o);function o(){var e;return ve(this,o),(e=t.call(this)).title="Welcome",e.subtitle="Start your journey now!",e}return we(o,[{key:"render",value:function(){return n.html(Qt||(Qt=qe(['\n      <div class="topBar">\n        <div class="title" part="title">\n          <span class="bracket">&#60;</span><slot>','</slot\n          ><span class="bracket">&#62;</span>\n        </div>\n        <div class="subtitle" part="subtitle">\n          <slot name="subtitle">',"</slot>\n        </div>\n      </div>\n    "])),this.title,this.subtitle)}}],[{key:"tag",get:function(){return"app-hax-label"}},{key:"properties",get:function(){return{title:{type:String},subtitle:{type:String}}}},{key:"styles",get:function(){return n.css(Zt||(Zt=qe(['\n      :host {\n        font-family: "Press Start 2P", sans-serif;\n        text-align: center;\n      }\n\n      .title {\n        -webkit-text-stroke: 1px\n          var(--app-hax-accent-color, var(--accent-color));\n        -webkit-text-fill-color: var(\n          --app-hax-background-color,\n          var(--background-color)\n        );\n        font-weight: normal;\n        font-size: 3.5vw;\n        display: inline-flex;\n        align-items: center;\n      }\n\n      .subtitle {\n        color: var(--app-hax-accent-color, var(--accent-color));\n        font-weight: normal;\n        margin-top: 2px;\n        font-size: 20px;\n      }\n      @media (max-width: 700px) {\n        .subtitle {\n          font-size: 12px;\n        }\n      }\n\n      .bracket {\n        font-size: 8vw;\n        font-weight: normal;\n        vertical-align: middle;\n        -webkit-text-stroke: 0px;\n        -webkit-text-fill-color: var(\n          --app-hax-accent-color,\n          var(--accent-color)\n        );\n      }\n      @media (max-height: 500px) {\n        .title {\n          -webkit-text-stroke: unset;\n          -webkit-text-fill-color: unset;\n        }\n        .bracket {\n          font-size: 4vw;\n          margin: 0;\n          padding: 0;\n        }\n      }\n    '])))}}]),o}(n.LitElement);customElements.define(on.tag,on);var rn,an,sn,ln,cn,pn,un,dn,hn,mn=function(e){ke(o,e);var t=Ce(o);function o(){return ve(this,o),t.apply(this,arguments)}return we(o,[{key:"render",value:function(){return n.html(tn||(tn=qe(['\n      <div class="topBar" part="top-bar">\n        <div class="left" part="left">\n          <slot name="left"></slot>\n        </div>\n        <div class="center" part="center">\n          <slot name="center"></slot>\n        </div>\n        <div class="right" part="right">\n          <slot name="right"></slot>\n        </div>\n      </div>\n    '])))}}],[{key:"tag",get:function(){return"app-hax-top-bar"}},{key:"styles",get:function(){return n.css(nn||(nn=qe(["\n      :host {\n        --bg-color: var(--app-hax-background-color);\n        --accent-color: var(--app-hax-accent-color);\n        --top-bar-height: 48px;\n        display: block;\n        height: var(--top-bar-height);\n      }\n\n      /* @media (prefers-color-scheme: dark) {\n        :root {\n          --accent-color: white;\n          color: var(--accent-color);\n          \n        }\n\n        :host {\n          background-color: black;\n        } \n      } */\n\n      .topBar {\n        overflow: hidden;\n        background-color: var(--bg-color);\n        color: var(--accent-color);\n        height: var(--top-bar-height);\n        text-align: center;\n        vertical-align: middle;\n        border-bottom: 3px solid var(--app-hax-accent-color);\n        display: grid;\n        grid-template-columns: 32.5% 35% 32.5%;\n      }\n\n      /* .topBar > div {\n        background-color: rgba(255, 255, 255, 0.8);\n        border: 1px solid black;\n      } */\n\n      .topBar .left {\n        text-align: left;\n        height: var(--top-bar-height);\n        vertical-align: text-top;\n      }\n\n      .topBar .center {\n        text-align: center;\n        height: var(--top-bar-height);\n        vertical-align: text-top;\n      }\n\n      .topBar .right {\n        text-align: right;\n        height: var(--top-bar-height);\n        vertical-align: text-top;\n      }\n    "])))}}]),o}(n.LitElement);customElements.define(mn.tag,mn);var fn=new URL("./lib/assets/images/HAXLogo.svg","undefined"==typeof document&&"undefined"==typeof location?new(require("url").URL)("file:"+__filename).href:"undefined"==typeof document?location.href:document.currentScript&&document.currentScript.src||new URL("app-hax.umd.js",document.baseURI).href).href,gn=new URL("./lib/assets/images/Logout.svg","undefined"==typeof document&&"undefined"==typeof location?new(require("url").URL)("file:"+__filename).href:"undefined"==typeof document?location.href:document.currentScript&&document.currentScript.src||new URL("app-hax.umd.js",document.baseURI).href).href,bn=new URL("./lib/assets/images/Help.svg","undefined"==typeof document&&"undefined"==typeof location?new(require("url").URL)("file:"+__filename).href:"undefined"==typeof document?location.href:document.currentScript&&document.currentScript.src||new URL("app-hax.umd.js",document.baseURI).href).href;function vn(e){e.matches?We.darkMode=!0:We.darkMode=!1}function yn(){We.soundStatus=!i.toJS(We.soundStatus),r.localStorageSet("app-hax-soundStatus",i.toJS(We.soundStatus)),We.appEl.playSound("click")}var wn=function(e){ke(o,e);var t=Ce(o);function o(){var e;return ve(this,o),(e=t.call(this)).windowControllers=new AbortController,e.__tour=N.SimpleTourManager,e.__tour.registerNewTour({key:"hax",name:"Let's learn HAX",style:"\n      simple-popover-manager::part(simple-popover) {\n        max-width: 250px;\n      }\n      simple-popover-manager button {\n        font-family: 'Press Start 2P', sans-serif;\n        font-size: 12px;\n        margin: 0px 2px;\n        color: var(--simple-colors-default-theme-grey-12);\n      }\n      simple-popover-manager p {\n        font-family: 'Press Start 2P', sans-serif;\n        padding: 0;\n        margin: 0;\n        width: 250px;\n        font-size: 12px;\n        line-height: 20px;\n      }\n      simple-popover-manager h1 {\n        font-family: 'Press Start 2P', sans-serif;\n        margin: 0;\n        font-size: 12px;\n        width: 250px;\n        padding: 0;\n      }\n      simple-popover-manager::part(simple-popover-body),\n      simple-popover-manager::part(simple-popover-heading) {\n        color: black;\n        background-color: white;\n      }\n      body.dark-mode simple-popover-manager::part(simple-popover-body),\n      body.dark-mode simple-popover-manager::part(simple-popover-heading) {\n        color: white;\n        background-color: black;\n      }\n      body.dark-mode simple-popover-manager simple-icon-button-lite {\n        color: white;\n        background-color: black;\n      }\n      "}),e.tourName="hax",i.autorun((function(){var e=i.toJS(We.activeItem);e&&e.title&&We.setPageTitle(e.title)})),i.autorun((function(){e.siteReady=i.toJS(We.siteReady)})),i.autorun((function(){var e=i.toJS(We.badDevice);!1===e||!0===e&&document.body.classList.add("bad-device")})),e.userMenuOpen=!1,e.courses=[],e.activeItem={},e.phrases={new:["What's ya name?","HAX to the moon","Welcome to the Jungle","We like to party","Build something awesome","Everything is awesome!","Everything is cool","When you're part of the team","When you're living our dream","Welcome to the up-side-down"],return:["Welcome back, take 2?","That wasn't very long","Stranger thiings have happened","Student driven platform","Faculty centered platform","Instructional designer influenced platform","Free, Open, Community driven","One brick at a time..","Sup?","You again? Awesome!","Let's do this","There can only be one ring...","There is another","Fancy that, I love HAX and you show up"]},e.isNewUser=null,e.basePath="/",e.searchTerm="",e.appMode="",e.soundIcon="",e.store=We,e.sound=new Audio,i.autorun((function(){e.isNewUser=i.toJS(We.isNewUser),e.isNewUser&&"create"!==i.toJS(We.appMode)&&"404"!==i.toJS(We.appMode)&&(We.appMode="create",setTimeout((function(){We.createSiteSteps=!0}),0))})),i.autorun((function(){e.userName=i.toJS(We.user.name)})),i.autorun((function(){e.appMode=i.toJS(We.appMode)})),i.autorun((function(){e.searchTerm=i.toJS(We.searchTerm)})),i.autorun(be(fe().mark((function t(){var n;return fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(n=i.toJS(We.location))&&n.route&&(n.route.step?(We.appMode="create",We.createSiteSteps=!0):n.route.slug?(e.reset(),setTimeout((function(){window.location=n.route.slug}),0)):"404"===n.route.name?(We.createSiteSteps=!1,We.appMode="404",setTimeout((function(){We.toast("the page miss.. it burns!!!",3e3,{fire:!0,walking:!0})}),500)):"home"!==n.route.name&&"search"!==n.route.name||(We.appMode="home",We.createSiteSteps=!1));case 2:case"end":return t.stop()}}),t)})))),i.autorun((function(){We.routes.length>0&&null===We.location&&(We.location=i.toJS(We.routes[0]))})),null===r.localStorageGet("app-hax-darkMode",null)&&(We.darkMode=window.matchMedia("(prefers-color-scheme: dark)").matches),i.autorun((function(){r.localStorageSet("app-hax-darkMode",i.toJS(We.darkMode)),i.toJS(We.darkMode)?(document.body.classList.add("dark-mode"),We.toast("I'm ascared of the dark",2e3,{fire:!0}),e.dark=!0):(document.body.classList.remove("dark-mode"),We.toast("Sunny day it is",2e3,{hat:"random"}),e.dark=!1)})),i.autorun((function(){var e=i.toJS(We.appMode);e&&(document.body.classList.remove("app-hax-search"),document.body.classList.remove("app-hax-create"),document.body.classList.remove("app-hax-404"),document.body.classList.remove("app-hax-home"),document.body.classList.add("app-hax-".concat(e)))})),e}return we(o,[{key:"playSound",value:function(e){if(We.soundStatus&&We.appReady){var t=["click","click2","coin","coin2","hit","success"].includes(e)?e:"hit";this.audio=new Audio(new URL("./lib/assets/sounds/".concat(t,".mp3"),"undefined"==typeof document&&"undefined"==typeof location?new(require("url").URL)("file:"+__filename).href:"undefined"==typeof document?location.href:document.currentScript&&document.currentScript.src||new URL("app-hax.umd.js",document.baseURI).href).href),this.audio.volume=.5,this.audio.play()}}},{key:"_tokenRefreshFailed",value:function(e){var t=this;window.dispatchEvent(new CustomEvent("jwt-login-logout",{composed:!0,bubbles:!0,cancelable:!1,detail:!0})),setTimeout((function(){t.reset(!0)}),100)}},{key:"connectedCallback",value:function(){_e(Se(o.prototype),"connectedCallback",this).call(this),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",vn,{signal:this.windowControllers.signal}),window.addEventListener("jwt-logged-in",this._jwtLoggedIn.bind(this),{signal:this.windowControllers.signal}),window.addEventListener("jwt-login-refresh-error",this._tokenRefreshFailed.bind(this),{signal:this.windowControllers.signal})}},{key:"disconnectedCallback",value:function(){this.windowControllers.abort(),_e(Se(o.prototype),"disconnectedCallback",this).call(this)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{window.localStorage.removeItem("app-hax-step"),window.localStorage.removeItem("app-hax-site"),e&&(document.querySelector("base")?window.location=document.querySelector("base").href:window.location.reload())}catch(e){}}},{key:"logout",value:function(){window.dispatchEvent(new CustomEvent("jwt-login-logout",{composed:!0,bubbles:!0,cancelable:!1,detail:!0})),this.closeMenu(),this.__logoutUserAction=!0}},{key:"_jwtLoggedIn",value:function(e){var t=this;!1===e.detail&&this.__logoutUserAction&&(this.__logoutUserAction=!1,setTimeout((function(){t.reset(!0)}),100))}},{key:"login",value:function(){var e=this;Promise.resolve(Vt).then((function(){var t=document.createElement("app-hax-site-login");if(e.querySelector('[slot="externalproviders"]')){var n=e.querySelector('[slot="externalproviders"]').cloneNode(!0);t.appendChild(n)}Promise.resolve(pe).then((function(){setTimeout((function(){e.dispatchEvent(new CustomEvent("simple-modal-show",{bubbles:!0,cancelable:!0,composed:!0,detail:{title:"< login >",elements:{content:t},modal:!0,styles:{"--simple-modal-titlebar-background":"transparent","--simple-modal-titlebar-color":"black","--simple-modal-width":"40vw","--simple-modal-min-width":"300px","--simple-modal-z-index":"100000000","--simple-modal-height":"62vh","--simple-modal-min-height":"400px","--simple-modal-titlebar-height":"64px"}}}))}),0)}))}))}},{key:"helpClick",value:function(){We.appEl.playSound("coin2"),this.__tour.startTour("hax")}},{key:"updated",value:function(e){var t=this;_e(Se(o.prototype),"updated",this)&&_e(Se(o.prototype),"updated",this).call(this,e),e.forEach((function(e,n){["basePath"].includes(n)&&t[n]&&(We.AppHaxAPI[n]=t[n]),["token"].includes(n)&&t[n]&&(We[n]=t[n])}))}},{key:"firstUpdated",value:function(e){var t=this;_e(Se(o.prototype),"firstUpdated",this)&&_e(Se(o.prototype),"firstUpdated",this).call(this,e),We.AppHaxAPI&&this.basePath&&(We.AppHaxAPI.basePath=this.basePath),this.dispatchEvent(new CustomEvent("app-hax-loaded",{composed:!0,bubbles:!0,cancelable:!1,detail:!0})),We.appReady=!0,i.autorun((function(){i.toJS(We.appReady)?document.body.classList.add("app-loaded"):document.body.classList.remove("app-loaded")})),We.appEl=this,i.autorun((function(){We.activeItem&&(t.activeItem=i.toJS(We.activeItem))})),i.autorun((function(){t.soundIcon=i.toJS(We.soundStatus)?new URL("./lib/assets/images/FullVolume.svg","undefined"==typeof document&&"undefined"==typeof location?new(require("url").URL)("file:"+__filename).href:"undefined"==typeof document?location.href:document.currentScript&&document.currentScript.src||new URL("app-hax.umd.js",document.baseURI).href).href:new URL("./lib/assets/images/Silence.svg","undefined"==typeof document&&"undefined"==typeof location?new(require("url").URL)("file:"+__filename).href:"undefined"==typeof document?location.href:document.currentScript&&document.currentScript.src||new URL("app-hax.umd.js",document.baseURI).href).href,i.toJS(We.soundStatus)?We.toast("You can hear me now? Good.",2e3,{hat:"random"}):We.toast("Sound off.. hey! HELLO!?!",2e3,{fire:!0})})),i.autorun(be(fe().mark((function e(){var n;return fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i.toJS(We.appReady)&&We.AppHaxAPI&&i.toJS(We.isLoggedIn)&&i.toJS(We.appSettings)&&i.toJS(We.refreshSiteList))){e.next=7;break}return e.next=3,Kt.makeCall("getSitesList");case 3:n=e.sent,We.manifest=n.data,e.next=8;break;case 7:i.toJS(We.appReady)&&!i.toJS(We.isLoggedIn)&&t.login();case 8:case"end":return e.stop()}}),e)}))))}},{key:"toggleMenu",value:function(){this.userMenuOpen=!this.userMenuOpen,We.appEl.playSound("click")}},{key:"closeMenu",value:function(){this.userMenuOpen&&(this.userMenuOpen=!this.userMenuOpen,this.shadowRoot.querySelector("#user-menu").removeAttribute("isOpen"))}},{key:"render",value:function(){return n.html(rn||(rn=qe(['<app-hax-router></app-hax-router>\n      <header>\n        <app-hax-top-bar>\n          <slot name="app-header-pre" slot="left"></slot>\n          <a id="home" href="home" tabindex="-1" slot="left">\n            <simple-icon-lite\n              id="hlogo"\n              src="','"\n              tabindex="0"\n              class="haxLogo"\n              title="Home"\n              data-simple-tour-stop\n              data-stop-title="data-label"\n              data-label="Home"\n            >\n              <div data-stop-content slot="tour" style="display:none;">\n                You can come back to this home screen whenever you click this..\n              </div>\n            </simple-icon-lite>\n          </a>\n          <simple-tooltip for="hlogo" position="right" slot="left"\n            >Home</simple-tooltip\n          >\n          <app-hax-search-bar\n            slot="center"\n            ?disabled="','"\n          ></app-hax-search-bar>\n          <wired-button\n            elevation="1"\n            slot="right"\n            class="soundToggle"\n            id="soundtb"\n            @click="','"\n          >\n            <span class="wired-button-label">Toggle sound effects</span>\n            <simple-icon-lite\n              src="','"\n              loading="lazy"\n              decoding="async"\n              data-simple-tour-stop\n              data-stop-title="data-label"\n              data-label="Sound"\n            >\n              <div slot="tour" data-stop-content>\n                Not a fan of the awesome sound effects, you can mute them but I\n                highly suggest you dont.....or else.\n              </div>\n            </simple-icon-lite>\n          </wired-button>\n          <simple-tooltip for="soundtb" position="bottom" slot="right"\n            >Toggle sound</simple-tooltip\n          >\n          <app-hax-wired-toggle id="wt" slot="right"></app-hax-wired-toggle>\n          <simple-tooltip for="wt" position="bottom" slot="right"\n            >Toggle dark mode</simple-tooltip\n          >\n          <app-hax-user-menu\n            slot="right"\n            id="user-menu"\n            data-simple-tour-stop\n            data-stop-title="data-label"\n            data-label="Menu"\n          >\n            <div slot="tour" data-stop-content>\n              You want to log out and be someone else? You want to check your\n              sites option? Click your character. Fun Fact....your character is\n              unique to you.\n            </div>\n            <button class="topbar-character" slot="menuButton" id="tbchar">\n              <rpg-character\n                seed="','"\n                width="68"\n                height="68"\n                aria-label="System menu"\n                title="System menu"\n                hat="','"\n                @click="','"\n              ></rpg-character>\n              <span class="characterbtn-name">','</span>\n            </button>\n            \x3c!-- <app-hax-user-menu-button\n              slot="main-menu"\n              icon="face"\n              label="Account Info"\n            ></app-hax-user-menu-button> --\x3e\n            <app-hax-user-menu-button\n              slot="post-menu"\n              class="logout"\n              label="Logout"\n              @click=','\n            ></app-hax-user-menu-button>\n          </app-hax-user-menu>\n          <simple-tooltip for="tbchar" position="bottom" slot="right"\n            >System menu</simple-tooltip\n          >\n        </app-hax-top-bar>\n      </header>\n      <main @click="','">\n        <confetti-container id="confetti">\n          <div class="label">\n            <app-hax-label>\n              ',"\n              ",'\n            </app-hax-label>\n          </div>\n          <random-word\n            key="','"\n            .phrases="','"\n            @click="','"\n          ></random-word>\n          <simple-icon-lite\n            id="helpbtn"\n            @click="','"\n            src="','"\n          >\n          </simple-icon-lite>\n          <simple-tooltip for="helpbtn" position="bottom">Help</simple-tooltip>\n          <section class="content">',"</section>\n        </confetti-container>\n      </main>"])),fn,this.isNewUser,yn,this.soundIcon,this.userName,this.userMenuOpen?"edit":"none",this.toggleMenu,this.userName,this.logout,this.closeMenu,this.activeItem&&!this.siteReady?n.html(an||(an=qe(["\n                    <h1>",'</h1>\n                    <div slot="subtitle">\n                      ',"\n                    </div>\n                  "])),this.activeItem.label,this.activeItem&&this.activeItem.statement?this.activeItem.statement.replace(":structure",i.toJS(We.site.structure)):""):"",this.activeItem&&this.siteReady?n.html(sn||(sn=qe(["\n                    <h1>",'</h1>\n                    <div slot="subtitle">\n                      Is all ready, are you ready to build?\n                    </div>\n                  '])),i.toJS(We.site.name)):"",this.isNewUser?"new":"return",this.phrases,this.getNewWord,this.helpClick,bn,this.appBody(this.appMode))}},{key:"getNewWord",value:function(){this.shadowRoot.querySelector("random-word").getNewWord(),We.appEl.playSound("click")}},{key:"appBody",value:function(e){var t=n.html(ln||(ln=qe([""])));switch(e){case"home":case"search":t=this.templateHome();break;case"create":t=this.templateCreate();break;default:t=this.template404()}return t}},{key:"templateHome",value:function(){return n.html(cn||(cn=qe([" ","\n\n      <app-hax-search-results></app-hax-search-results>"])),this.searchTerm?"":n.html(pn||(pn=qe([' <div class="start-journey">\n            <a\n              href="createSite-step-1"\n              @click="','"\n              tabindex="-1"\n            >\n              <app-hax-site-button\n                label="&gt; Start new journey"\n              ></app-hax-site-button>\n            </a>\n          </div>'])),this.startJourney))}},{key:"templateCreate",value:function(){return n.html(un||(un=qe(['<app-hax-steps\n      @promise-progress-finished="','"\n    ></app-hax-steps>'])),this.siteReadyToGo)}},{key:"siteReadyToGo",value:function(e){var t=this;Promise.resolve(V).then((function(e){setTimeout((function(){t.shadowRoot.querySelector("#confetti").setAttribute("popped","")}),0)})),e.detail&&(We.siteReady=!0)}},{key:"template404",value:function(){return n.html(dn||(dn=qe([' <div class="four04">\n      <a\n        href="createSite-step-1"\n        class="start-journey"\n        @click="','"\n        tabindex="-1"\n      >\n        <app-hax-site-button\n          label="&gt; Start a new journey"\n        ></app-hax-site-button>\n      </a>\n      <rpg-character\n        class="four04-character"\n        fire\n        walking\n        width="200"\n        id="char404"\n        height="200"\n        seed="','"\n      ></rpg-character>\n      <simple-tooltip for="char404" position="left">This</simple-tooltip>\n      <simple-tooltip for="char404" position="right">fine</simple-tooltip>\n      <simple-tooltip for="char404" position="bottom">is</simple-tooltip>\n    </div>'])),this.startJourney,this.userName)}},{key:"startJourney",value:function(){We.createSiteSteps=!1,We.siteReady=!1,We.site.structure=null,We.site.type=null,We.site.theme=null,We.site.name=null,We.appMode="create",We.appEl.playSound("click2")}}],[{key:"tag",get:function(){return"app-hax"}},{key:"properties",get:function(){return me(me({},_e(Se(o),"properties",this)),{},{courses:{type:Array},userName:{type:String},activeItem:{type:Object},soundIcon:{type:String},searchTerm:{type:String},appMode:{type:String},isNewUser:{type:Boolean},phrases:{type:Object},userMenuOpen:{type:Boolean},siteReady:{type:Boolean},basePath:{type:String,attribute:"base-path"},token:{type:String}})}},{key:"styles",get:function(){return[].concat(Ue(_e(Se(o),"styles",this)),[n.css(hn||(hn=qe(['\n        :host {\n          display: block;\n          --app-hax-background-color-active: var(--app-hax-accent-color);\n        }\n        #home {\n          display: inline-flex;\n        }\n        .wired-button-label {\n          clip: rect(0 0 0 0);\n          clip-path: inset(50%);\n          height: 1px;\n          overflow: hidden;\n          position: absolute;\n          white-space: nowrap;\n          width: 1px;\n        }\n        .topbar-character {\n          cursor: pointer;\n          display: inline-block;\n          border: none;\n          border-radius: 0px;\n          padding: 0 8px;\n          margin: 0 0 0 16px;\n          background-color: transparent;\n          height: 48px;\n          max-width: 160px;\n        }\n        .characterbtn-name {\n          color: var(--simple-colors-default-theme-grey-12);\n          font-family: "Press Start 2P", sans-serif;\n          margin-left: 8px;\n          font-size: 12px;\n          vertical-align: bottom;\n          line-height: 48px;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          height: 48px;\n          word-break: break-all;\n        }\n        .topbar-character:hover,\n        .topbar-character:focus {\n          background-color: var(--simple-colors-default-theme-light-blue-4);\n          outline: var(--haxcms-color) solid 3px;\n          outline-offset: -3px;\n          height: 48px;\n        }\n        .topbar-character rpg-character {\n          margin: -4px -14px 0px -10px;\n          height: 52px;\n          width: 64px;\n          display: inline-block;\n        }\n        .content {\n          text-align: center;\n          margin-top: 24px;\n        }\n        .four04-character {\n          margin-top: 16px;\n        }\n        .start-journey {\n          display: flex;\n          padding-top: 40px;\n          justify-content: center;\n        }\n        app-hax-site-button {\n          max-width: 60vw;\n          justify-content: center;\n        }\n        app-hax-top-bar {\n          top: 0;\n          z-index: 1000;\n          right: 0;\n          left: 0;\n          position: fixed;\n        }\n        @media (max-width: 780px) {\n          app-hax-top-bar::part(top-bar) {\n            grid-template-columns: 20% 20% 60%;\n          }\n        }\n        @media (max-width: 600px) {\n          app-hax-top-bar::part(top-bar) {\n            grid-template-columns: 10% 30% 60%;\n          }\n        }\n        .label {\n          text-align: center;\n        }\n        app-hax-label {\n          animation: 0.8s ease-in-out 0s scrollin;\n          -webkit-animation: 0.8s ease-in-out 0s scrollin;\n          display: block;\n          overflow: hidden;\n        }\n        app-hax-label h1 {\n          font-weight: normal;\n          font-size: 4vw;\n          margin: 0;\n          padding: 0;\n        }\n        @keyframes scrollin {\n          from {\n            margin-top: -240px;\n            margin-bottom: 240px;\n          }\n          to {\n            margin-top: 0;\n            margin-bottom: 0;\n          }\n        }\n        .haxLogo {\n          --simple-icon-height: 40px;\n          --simple-icon-width: 40px;\n          margin: 4px;\n          color: var(--simple-colors-default-theme-grey-12);\n          cursor: pointer;\n        }\n        .soundToggle {\n          margin-right: 16px;\n          position: relative;\n          display: inline-flex;\n          vertical-align: top;\n        }\n\n        .soundToggle img {\n          width: 24px;\n          height: 24px;\n        }\n\n        app-hax-search-bar {\n          vertical-align: middle;\n          display: inline-flex;\n        }\n        main {\n          padding-top: 80px;\n        }\n        @media (max-width: 900px) {\n          .characterbtn-name {\n            display: none;\n          }\n          main {\n            padding-top: 64px;\n          }\n        }\n        app-hax-user-menu {\n          z-index: 1003;\n        }\n        .logout::part(menu-button) {\n          background-image: url("','");\n          background-repeat: no-repeat;\n          background-position: center;\n          text-align: center;\n          background-size: cover;\n          border-top: 0px;\n          border-bottom: 0px;\n          padding: 10px;\n        }\n        app-hax-user-menu app-hax-user-menu-button::part(menu-button) {\n          font-family: "Press Start 2P", sans-serif;\n          font-size: 12px;\n        }\n\n        random-word:not(:defined) {\n          display: none;\n        }\n        random-word {\n          transform: rotate(25deg);\n          position: absolute;\n          right: 10px;\n          top: 120px;\n          padding: 12px;\n          font-size: 12px;\n          border: 4px solid var(--simple-colors-default-theme-grey-12);\n          background-color: var(--simple-colors-default-theme-yellow-5);\n          color: var(--simple-colors-default-theme-grey-12);\n          width: 100px;\n          word-wrap: break-word;\n          text-align: center;\n          cursor: pointer;\n          user-select: none;\n          opacity: 1;\n          visibility: visible;\n          transition: all 0.3s ease-in-out;\n        }\n        #helpbtn {\n          --simple-icon-height: 50px;\n          --simple-icon-width: 50px;\n          right: 200px;\n          top: 100px;\n          padding: 4px;\n          background-color: var(--simple-colors-default-theme-grey-1);\n          border-radius: 50%;\n          position: absolute;\n          color: var(--simple-colors-default-theme-grey-12);\n          border: var(--simple-colors-default-theme-grey-12) 4px solid;\n          cursor: pointer;\n        }\n        @media (max-width: 800px) {\n          app-hax-site-button {\n            width: 320px;\n            max-width: 60vw;\n            --app-hax-site-button-font-size: 16px;\n          }\n          #helpbtn {\n            --simple-icon-height: 40px;\n            --simple-icon-width: 40px;\n            right: 8px;\n            top: 64px;\n            padding: 2px;\n            border: var(--simple-colors-default-theme-grey-12) 2px solid;\n          }\n        }\n        @media (prefers-reduced-motion: reduce) {\n          app-hax-label {\n            animation: none;\n            -webkit-animation: none;\n          }\n        }\n        @media (max-width: 680px) {\n          random-word {\n            visibility: none;\n            opacity: 0;\n          }\n        }\n        @media (max-height: 700px) {\n          .content {\n            margin-top: 4px;\n          }\n          random-word {\n            visibility: none;\n            opacity: 0;\n          }\n          .start-journey {\n            padding-top: 0;\n          }\n        }\n        @media (max-height: 500px) {\n          app-hax-label h1 {\n            font-family: monospace;\n            font-weight: normal;\n            font-size: 4vw;\n            margin: 0;\n            padding: 0;\n          }\n        }\n      '])),n.unsafeCSS(gn))])}}]),o}(E.SimpleTourFinder(o.SimpleColors));customElements.define(wn.tag,wn),window.AppHax=window.AppHax||{},window.AppHax.requestAvailability=function(){return window.AppHax.instance||(window.AppHax.instance=document.querySelector(wn.tag)),window.AppHax.instance},e.AppHax=wn,Object.defineProperty(e,"__esModule",{value:!0})}));
