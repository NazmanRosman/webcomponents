!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("lit"),require("@polymer/polymer/lib/utils/flattened-nodes-observer.js")):"function"==typeof define&&define.amd?define(["exports","lit","@polymer/polymer/lib/utils/flattened-nodes-observer.js"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).IframeLoader={},e.lit,e.flattenedNodesObserver_js)}(this,(function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}function s(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}function u(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}function d(){return d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=u(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},d.apply(this,arguments)}function p(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var g,h,y,b,m=function(e){a(i,e);var n=f(i);function i(){var e;return r(this,i),(e=n.call(this)).full=!1,e.loading=!1,e}return o(i,[{key:"render",value:function(){return this.loading?t.html(g||(g=p(['<div class="progress-line"></div>']))):t.nothing}}],[{key:"styles",get:function(){return t.css(h||(h=p(['\n      :host {\n        display: block;\n      }\n      .progress-line,\n      .progress-line:before {\n        height: 5px;\n        width: 100%;\n        margin: auto;\n      }\n      :host([full]) .progress-line {\n        --loading-indicator-width: 100%;\n      }\n      .progress-line {\n        background-color: var(\n          --loading-indicator-background-color,\n          rgba(0, 0, 0, 0.05)\n        );\n        display: -webkit-flex;\n        display: flex;\n        width: var(--loading-indicator-width, 300px);\n      }\n      .progress-line:before {\n        background-color: var(--loading-indicator-color, black);\n        content: "";\n        animation: running-progress 2s cubic-bezier(0.4, 0, 0.2, 1) infinite;\n      }\n      @keyframes running-progress {\n        0% {\n          margin-left: 0px;\n          margin-right: 100%;\n        }\n        50% {\n          margin-left: 25%;\n          margin-right: 0%;\n        }\n        100% {\n          margin-left: 100%;\n          margin-right: 0;\n        }\n      }\n      @keyframes fade-out {\n        0% {\n          opacity: 1;\n        }\n        99% {\n          opacity: 0;\n        }\n        100% {\n          opacity: 0;\n        }\n      }\n    '])))}},{key:"properties",get:function(){return{full:{type:Boolean,reflect:!0},loading:{type:Boolean,reflect:!0}}}},{key:"tag",get:function(){return"loading-indicator"}}]),i}(t.LitElement);customElements.define(m.tag,m);var v=function(e){a(c,e);var i=f(c);function c(){var e;return r(this,c),(e=i.call(this)).loading=!0,e.__iframeLoaded=!1,e.__iframeHeight=100,e.__iframe=null,e.__mutationObserver=new MutationObserver((function(t){t.forEach((function(t){t.target.offsetHeight&&e.loading&&(e.__iframeHeight=t.target.offsetHeight)}))})),e}return o(c,[{key:"disconnectedCallback",value:function(){var e=this;d(l(c.prototype),"disconnectedCallback",this).call(this),this.__iframe&&this.__iframe.removeEventListener("load",(function(t){setTimeout((function(){e.loading=!1,t.path[0].height&&(e.__iframeHeight=t.path[0].height)}),500)}))}},{key:"firstUpdated",value:function(e){var t=this;d(l(c.prototype),"firstUpdated",this)&&d(l(c.prototype),"firstUpdated",this).call(this,e),this.__observer=new n.FlattenedNodesObserver(this.shadowRoot.querySelector("slot"),(function(e){e.addedNodes.length>0&&e.addedNodes.forEach((function(e){var n=null;if("IFRAME"===e.nodeName)n=e;else if(e.querySelector){var r=e.querySelector("iframe");r&&(n=r)}n&&(t.__iframe=n,t.__iframe.addEventListener("load",(function(e){setTimeout((function(){t.loading=!1,e.path[0].height&&(t.__iframeHeight=e.path[0].height)}),500)})),t.__mutationObserver.observe(t.__iframe,{attributes:!0}))}))}))}},{key:"render",value:function(){return t.html(y||(y=p(['\n      <div id="container" class="','">\n        <div id="loading-screen" style="height:','px;">\n          <loading-indicator></loading-indicator>\n        </div>\n        <div id="slot" style="display: ','">\n          <slot></slot>\n        </div>\n      </div>\n    '])),this.loading?"loading":"loaded",this.__iframeHeight,this.loading?"none":"block")}}],[{key:"properties",get:function(){return{loading:{type:Boolean},__iframeHeight:{type:Number}}}},{key:"styles",get:function(){return t.css(b||(b=p(["\n      :host {\n        display: block;\n      }\n      #container {\n        position: relative;\n      }\n      #loading-screen {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n      }\n      .loaded #loading-screen {\n        display: none;\n      }\n    "])))}}]),c}(t.LitElement);customElements.define("iframe-loader",v),e.IframeLoader=v,Object.defineProperty(e,"__esModule",{value:!0})}));
